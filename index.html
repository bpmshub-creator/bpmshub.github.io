<!DOCTYPE html>
<html class="site-menu-sidebar  ">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">		<title>Portal</title>

		<link rel="apple-touch-icon" href="assets/apple-touch-icon.png">
		<link rel="icon" href="assets/favicon.ico" type="image/x-icon">
		<link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon">
	</head>
	<body lang="en">
		<div class="site-container sis-package">
			<div class="site-assets">
				
		<script>
			var focus_package = "SIS";
		</script>
	<link rel="stylesheet" type="text/css" href="layout/master/reset.css?m=1674769197"><link rel="stylesheet" type="text/css" href="assets/googlefonts/lato/fonts.css?m=1674769129"><link rel="stylesheet" type="text/css" href="assets/font-awesome-4.7.0/css/font-awesome.min.css?m=1674769135"><link rel="stylesheet" type="text/css" href="assets/style_lo.css?m=1674769129"><link rel="stylesheet" type="text/css" href="assets/SwiftBox/swift-box.css?m=1674769132"><link rel="stylesheet" type="text/css" href="assets/SwiftSortable/swift-sortable.css?m=1674769135"><link rel="stylesheet" type="text/css" href="assets/DataTable/DataTable.css?m=1674769129"><link rel="stylesheet" type="text/css" href="assets/jquery/ui.themes/base/jquery.ui.all.min.css?m=1674769133"><link rel="stylesheet" type="text/css" href="assets/jquery/ui.themes/redmond/jquery-ui-1.8.16.custom.css?m=1674769133"><link rel="stylesheet" type="text/css" href="assets/jquery/jquery.spellchecker.css?m=1674769133"><link rel="stylesheet" type="text/css" href="assets/mathquill/mathquill.css?m=1674769135"><link rel="stylesheet" type="text/css" href="assets/FileUploader.css?m=1674769135"><link rel="stylesheet" type="text/css" href="layout/master/master.css?m=1674769197"><link rel="stylesheet" type="text/css" href="layout/header/header.css?m=1674769197"><link rel="stylesheet" type="text/css" href="layout/menu/menu.css?m=1674769197"><link rel="stylesheet" type="text/css" href="layout/extra/generic/focus.css?m=1674769197"><link rel="stylesheet" type="text/css" href="layout/extra/extra.css?m=1674769197"><link rel="stylesheet" type="text/css" href="layout/extra/help/help.css?m=1674769197"><link rel="stylesheet" type="text/css" href="layout/extra/loading_spinner/loading_spinner.css?m=1674769197"><link rel="stylesheet" type="text/css" href="layout/extra/modal/modal.css?m=1674769197"><link rel="stylesheet" type="text/css" href="layout/extra/poptable/poptable.css?m=1674769197"><link rel="stylesheet" type="text/css" href="layout/extra/print/print.css?m=1674769197"><link rel="stylesheet" type="text/css" href="layout/extra/login_as/login_as.css?m=1674769197"><link rel="stylesheet" type="text/css" href="layout/extra/site_page_search/site_page_search.css?m=1674769197"><link rel="stylesheet" type="text/css" href="assets/intro/introjs.min.css?m=1674769129"><link rel="stylesheet" type="text/css" href="assets/handlebars/EmailForm.css?m=1674769131"><link rel="stylesheet" type="text/css" href="assets/handlebars/CommentSection.css?m=1674769131"><link rel="stylesheet" type="text/css" href="assets/handlebars/SavedReports.css?m=1674769131"><link rel="stylesheet" type="text/css" href="assets/handlebars/Print.css?m=1674769131"><link rel="stylesheet" type="text/css" href="assets/handlebars/Report.css?m=1674769131"><link rel="stylesheet" type="text/css" href="assets/handlebars/Tabs.css?m=1674769131"><link rel="stylesheet" type="text/css" href="assets/handlebars/Popup.css?m=1674769131"><link rel="stylesheet" type="text/css" href="assets/handlebars/Alert.css?m=1674769131"><link rel="stylesheet" type="text/css" href="assets/handlebars/Confirm.css?m=1674769131"><link rel="stylesheet" type="text/css" href="assets/handlebars/Prompt.css?m=1674769131"><link rel="stylesheet" type="text/css" href="assets/handlebars/Error.css?m=1674769131"><link rel="stylesheet" type="text/css" href="assets/handlebars/TextareaPopup.css?m=1674769131"><link rel="stylesheet" type="text/css" href="assets/handlebars/Expand.css?m=1674769131"><link rel="stylesheet" type="text/css" href="assets/jscalendar/calendar-blue2.css?m=1674769129"><link rel="stylesheet" type="text/css" href="assets/style.css?m=1674769129"><link rel="stylesheet" type="text/css" href="Finance/ImportableAssets/styles/ApprovalFlow.css?m=1674769143"><link rel="stylesheet" type="text/css" href="layout/menu/parent_menu.css?m=1674769197"><link rel="stylesheet" type="text/css" href="layout/menu/parent_hamburger.css?m=1674769197"><link rel="stylesheet" type="text/css" href="assets/Focus_Chat/style.css?m=1674769132"><link rel="stylesheet" type="text/css" href="assets/jquery/knockout.contextmenu/dist/css/knockout.contextmenu.css?m=1674769133"><script src='assets/jquery/jquery-1.12.3.min.js?m=1674769133'></script><script src='assets/jquery/jquery-migrate-1.3.0.min.js?m=1674769133'></script><script src='https://pasco.focusschoolsoftware.com/focus/assets/translations/gettext.js.php?locale=en_US&m=1674769187?m='></script><script src='assets/jquery/jquery-ui.1.9.2.min.js?m=1674769133'></script><script src='assets/reactive-element.js?m=1674769129'></script><script src='assets/signature_pad.min.js?m=1674769131'></script><script src='assets/Reactor/src/reactor.js?m=1674769135'></script><script src='assets/cookies.js?m=1674769133'></script><script src='assets/localforage.js?m=1674769134'></script><script src='assets/jquery/jquery.ui.timepicker.js?m=1674769133'></script><script src='assets/jquery/jquery.serializeJSON.js?m=1674769133'></script><script src='assets/jquery/jquery.spellchecker.js?m=1674769133'></script><script src='assets/jquery/jquery.fnc.js?m=1674769133'></script><script src='assets/jquery/jquery.transform.js?m=1674769133'></script><script src='assets/jquery/jquery.fnc.toggleWindow.js?m=1674769133'></script><script src='assets/jquery/jquery.fnc.toggleAttr.js?m=1674769133'></script><script src='assets/jquery/jquery.csv.js?m=1674769133'></script><script src='assets/jquery.jqote2.js?m=1674769132'></script><script src='assets/libs/lodash.js?m=1674769132'></script><script src='assets/moment/moment.js?m=1674769129'></script><script src='assets/json2.js?m=1674769135'></script><script src='assets/handlebars/Focus.js?m=1674769131'></script><script src='assets/SwiftSearch/swift-search.js?m=1674769135'></script><script src='assets/SwiftBox/swift-box.js?m=1674769132'></script><script src='assets/SwiftSortable/swift-sortable.js?m=1674769135'></script><script src='assets/Reactor/src/reactor.js?m=1674769135'></script><script src='assets/modules.js?m=1674769134'></script><script src='assets/FileSaver/BlobBuilder.js?m=1674769131'></script><script src='assets/FileSaver/Blob.js?m=1674769131'></script><script src='assets/FileSaver/FileSaver.js?m=1674769131'></script><script src='assets/DataTable/DataTable.js?m=1674769129'></script><script src='assets/DataTable/RevisedDataTable.min.js?m=1674769129'></script><script src='assets/Tacky/tacky.js?m=1674769131'></script><script src='assets/tipmessage/main15.js?m=1674769130'></script><script src='assets/gzip/gzip.js?m=1674769143'></script><script src='assets/iframePreview.fnc.js?m=1674769134'></script><script src='assets/mathquill/mathquill.js?m=1674769135'></script><script src='assets/FileUploader.js?m=1674769131'></script><script src='assets/initialize.js?m=1674769135'></script><script src='assets/SigPlusFocus/SigWebTablet.js?m=1674769129'></script><script src='assets/intro/intro.min.js?m=1674769129'></script><script src='assets/intro/Intro.js?m=1674769129'></script><script src='layout/master/master.js?m=1674769197'></script><script src='layout/header/header.js?m=1674769197'></script><script src='layout/menu/menu.js?m=1674769197'></script><script src='layout/footer/footer.js?m=1674769197'></script><script src='layout/extra/extra.js?m=1674769197'></script><script src='layout/extra/help/help.js?m=1674769197'></script><script src='layout/extra/modal/modal.js?m=1674769197'></script><script src='layout/extra/poptable/poptable.js?m=1674769197'></script><script src='layout/extra/print/print.js?m=1674769197'></script><script src='layout/extra/login_as/login_as.js?m=1674769197'></script><script src='layout/extra/site_page_search/site_page_search.js?m=1674769197'></script><script src='assets/handlebars/handlebars.min.js?m=1674769131'></script><script src='assets/handlebars/helpers.js?m=1674769131'></script><script src='assets/handlebars/Ajax.js?m=1674769131'></script><script src='assets/handlebars/Alert.js?m=1674769131'></script><script src='assets/handlebars/Polyfill.js?m=1674769131'></script><script src='assets/handlebars/Tri-state.js?m=1674769131'></script><script src='assets/handlebars/TextareaPopup.js?m=1674769131'></script><script src='assets/handlebars/Number.js?m=1674769131'></script><script src='assets/handlebars/Storage.js?m=1674769131'></script><script src='assets/handlebars/EmailForm.js?m=1674769131'></script><script src='assets/handlebars/Tabs.js?m=1674769131'></script><script src='assets/handlebars/CommentSection.js?m=1674769131'></script><script src='assets/handlebars/SavedReports.js?m=1674769131'></script><script src='assets/handlebars/Popup.js?m=1674769131'></script><script src='assets/handlebars/Print.js?m=1674769131'></script><script src='assets/handlebars/Report.js?m=1674769131'></script><script src='assets/handlebars/Dates.js?m=1674769131'></script><script src='assets/handlebars/Confirm.js?m=1674769131'></script><script src='assets/handlebars/Prompt.js?m=1674769131'></script><script src='assets/handlebars/Expand.js?m=1674769131'></script><script src='assets/Templates/Templates.js?m=1674769134'></script><script src='assets/resizetable.js?m=1674769129'></script><script src='Finance/js/Focus/ApprovalFlowTooltip.js?m=1674769151'></script><script src='assets/es6-promise.js?m=1674769129'></script><script src='assets/socket.io-1.2.1.js?m=1674769129'></script><script src='assets/jquery/knockout.js?m=1674769133'></script><script src='assets/jquery/knockout.contextmenu/dist/js/knockout.contextmenu.js?m=1674769133'></script><script src='assets/jquery/knockout_extensions.js?m=1674769133'></script><script src='assets/Focus_Chat/MessageAlerts.js?m=1674769132'></script><script src='assets/Focus_Chat/MessageBlocks.js?m=1674769132'></script><script src='assets/Focus_Chat/OnlinePersons.js?m=1674769132'></script><script>
			Focus.AJAXURL = "Modules.php?modname=misc\/Portal.php&ajax=true";
			Focus.ajax_sql_log = false;
		</script><script>Focus.user_date_format='MMM D, YYYY';</script><script src='assets/ckeditor/ckeditor.js'></script><script src='assets/Semantic-UI/semantic.min.js'></script><script src='assets/dynamsoft/dynamsoft.webtwain.config.js?v=18.0.0'></script><script src='assets/dynamsoft/dynamsoft.webtwain.initiate.js?v=18.0.0'></script><script src='assets/dynamsoft/dynamsoft.webtwain.install.js?v=18.0.0'></script><link rel='stylesheet' type='text/css' href='assets/Semantic-UI/semantic.min.css'><link rel='stylesheet' type='text/css' href='assets/modules/semantic/focus-semantic.css'><script type="text/javascript">(function() {var walkme = document.createElement('script'); walkme.type = 'text/javascript'; walkme.async = true; walkme.src = 'https://cdn.walkme.com/users/ad0eb530c4e84e289dddd900012b6ce6/walkme_ad0eb530c4e84e289dddd900012b6ce6_https.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(walkme, s); window._walkmeConfig = {smartLoad:true}; })();</script>		<script>
			(function(global) {
				'use strict';

				var menu_options    = [{"id":0,"title":"Demographics","modname":"Students\/Student.php","hash":""},{"id":1,"title":"Enrollment","modname":"Students\/Student.php","hash":"enrollment"},{"id":2,"title":"Schedule","modname":"Scheduling\/Schedule.php","hash":""},{"id":3,"title":"Requests","modname":"Scheduling\/Requests.php","hash":""},{"id":7,"title":"Absences","modname":"Attendance\/StudentSummary.php","hash":""},{"id":10,"title":"Referrals","modname":"Discipline\/Referrals.php","hash":""},{"id":11,"title":"Test History","modname":"Assessment\/TestHistory.php","hash":""}];
				var no_LO_index     = [12];
				var container       = document.querySelector('.site-container');
				var close_functions = [];

				/**
				 * Open the menu, by default, next to the trigger element
				 * Context is optional, can be used to override x, y, x_alt, y_alt. Seating Charts adds Lock seat option
				 * @param  int     student_id.     The ID of the student for the menu options
				 * @param  DOMNode trigger_element The element triggering the opening of the menu
				 * @param  object  options         (optional) options object for this menu - see student_context_menu.md for valid props
				 * @return Void
				 */
				function openMenu(student_id, trigger_element, options) {
					student_id = +student_id;

					if(!student_id || isNaN(student_id)) {
						return console.error('Invalid Student ID');
					}

					if(!trigger_element || !trigger_element.classList) {
						return console.error('Invalid triggering DOM Node');
					}

					var closed = false;

					trigger_element.classList.add('context-menu-active');

					options = options || {};

					var __ = options;

					// Add some values to the menu options
					__.student_id       = student_id;
					__.container_height = container.clientHeight;
					__.container_width  = container.clientWidth;

					// By default, place the menu next to trigger element
					var rect = trigger_element.getBoundingClientRect();

					// If alt values aren't explicitly set, use the set x or y values (when they are specified),
					// or calculate the bottom left corner
					__.alt_x = __.alt_x || __.x || rect.right - rect.width;
					__.alt_y = __.alt_y || __.y || rect.bottom;

					// If x and y are not set, use default top right corner
					__.x = __.x || rect.left + rect.width;
					__.y = __.y || rect.top;

					// Append or prepend HTML to the menu, should always be an array of preprocessed HTML
					__.prepend = __.prepend || [];
					__.append  = __.append  || [];

					// Create the new menu element for this student
					var el   = document.createElement('div');
					var frag = document.createDocumentFragment();

					el.innerHTML = getHTML(__);

					frag.appendChild(el);

					// Save a reference to this specific menu element for closing
					var menu_element = frag.querySelector('.student-context-menu');

					// Add the menu to the DOM
					container.appendChild(frag);

					// Add close handlers for this menu, when auto close is enabled
					if(!__.disable_auto_close) {
						document.addEventListener('contextmenu', clickHandler, true);
						document.addEventListener('click', clickHandler, true);
						document.addEventListener('scroll', close, true);
						window.addEventListener('resize', close);
					}

					function clickHandler(e) {
						if(e.target.closest('.student-context-menu') && !e.target.classList.contains('student-context-menu-link')) {
							// Don't close when clicking within the active menu, but not a button
							if(!e.target.classList.contains('student-context-menu-option')) {
								return;
							}

							// If clicked a button, pass click to it's link
							const link_child = e.target.querySelector('.student-context-menu-link');

							link_child && link_child.click();
						}
						// Prevent an opening event if clicking back on this same button
						else if(e.target === trigger_element || trigger_element.contains(e.target)) {
							e.stopPropagation();
						}

						close();
					}

					function close() {
						if(closed) {
							return;
						}

						closed = true;

						menu_element && menu_element.parentNode.removeChild(menu_element);
						trigger_element && trigger_element.classList.remove('context-menu-active');

						document.removeEventListener('contextmenu', clickHandler, true);
						document.removeEventListener('click', clickHandler, true);
						document.removeEventListener('scroll', close, true);
						window.removeEventListener('resize', close);
					}

					// For manual closing all open menus - StudentContextMenu.close()
					close_functions.push(close);

					// For manual closing of this menu only
					return close;
				}

				function closeAllMenus() {
					close_functions.forEach(function(e) { e(); });

					close_functions = [];
				}

				function getHTML(opt) {
					var options_count = opt.prepend.length + menu_options.length + opt.append.length;
					var half_height   = opt.container_height / 2;
					var half_width    = opt.container_width / 2;
					var local_alt_x   = opt.container_width - opt.alt_x;
					var use_alt_x     = opt.x > half_width  && opt.alt_x;
					var x_style       = use_alt_x ? 'right:' + local_alt_x : 'left:' + opt.x;
					var y_style       = opt.y > half_height && opt.alt_y ? 'bottom:' + (opt.container_height - opt.alt_y) : 'top:' + opt.y;

					var html = [
						'<div ',
							'class = "student-context-menu ui section"',
							'style = "', x_style, 'px;', y_style, 'px"',
						'>',
					];

					if(opt.show_name) {
						html.push(
							'<div class="student-context-menu-name">',
								opt.show_name,
							'</div>',
						);
					}

					if(use_alt_x && opt.img_path) {
						html.push(
							'<div class="student-context-menu-photo-container">',
								'<img class="student-context-menu-photo" src="', opt.img_path, '">',
							'</div>',
						);
					}

					html.push('<div class="student-context-menu-options-container">');

					opt.prepend.forEach(function(e) { html.push(e) });

					// Adding School ID to options, when it's in the options array
					var school = opt.school_id ? '&school_id=' + opt.school_id : '';

					// All student searches use this extra opt
					var lo_index = opt.lo_index ? '&LO_index=' + opt.lo_index : '';

					// Add current users normal menu options
					menu_options.forEach(function(e) {
						var type = e.type || 'a';
						var hash = e.hash ? '#!' + e.hash : '';
						var LO   = no_LO_index.indexOf(e.id) !== -1 ? '' : lo_index;

						html.push(
							'<div class="student-context-menu-option">',
								'<', type, ' ',
									'href      = "Modules.php?modname=', e.modname, '&student_id=', opt.student_id, school, LO, hash, '"',
									'class     = "student-context-menu-link"',
									'draggable = "false"',
								'>',
									e.title,
								'</', type, '>',
							'</div>'
						);
					});

					opt.append.forEach(function(e) { html.push(e) });

					// Add an extra blank option for alignment, when there's an odd number of options
					if((options_count | 1) === options_count && options_count > 7) {
						html.push('<div class="student-context-menu-option empty-context-menu-option"></div>');
					}

					html.push('</div>');

					if(!use_alt_x && opt.img_path) {
						html.push(
							'<div class="student-context-menu-photo-container">',
								'<img class="student-context-menu-photo" src="', opt.img_path, '">',
							'</div>',
						);
					}

					html.push('</div>');

					return html.join('');
				}

				// Use this with .button to get the standard opener for inclusion in table cells
				function button(student_id, photo_path) {
					var photo_path = photo_path !== undefined ? ('data-student-photo-path="' + photo_path + '"') : '';

					return [
						'<div ',
							'class           = "student-context-menu-opener student-context-menu-standard"',
							'data-student-id = "', student_id+'', '"',
							'draggable       = "false"',
							photo_path,
						'>',
							'<i class="ui icon user"></i>',
							'<i class="ui icon caret down"></i>',
						'</div>',
					].join('');
				}

				global.StudentContextMenu = {
					button : button,
					close  : closeAllMenus,
					open   : openMenu,
				};
			})(window);
		</script>
		<style>
			.student-context-menu {
				margin              : 0 !important;
				padding             : 0 !important;
				position            : fixed;
				text-align          : center;
				user-select         : none;
				-moz-user-select    : none;
				-webkit-user-select : none;
				-ms-user-select     : none;
				z-index             : 99999;
			}

			.student-context-menu-options-container {
				display    : inline-block;
				max-width  : 130px;
				padding    : 4px;
				text-align : center;
				vertical-align: top;
			}

			.student-context-menu-photo-container {
				display        : inline-block;
				padding        : 4px;
				vertical-align : top;
			}

			.student-context-menu-photo {
				display        : inline-block;
				max-height     : 160px;
				max-width      : 160px;
				vertical-align : middle;
			}

			.student-context-menu-option {
				cursor     : pointer;
				display    : inline-block;
				font-size  : 12px;
				padding    : 2px 0px 2px 10px;
				margin     : 0;
				text-align : left;
				width      : 110px;
			}

			.student-context-menu-standard {
				color               : rgb(50, 115, 165);
				cursor              : pointer;
				padding             : 5px 10px;
				text-align          : center;
				user-select         : none;
				-moz-user-select    : none;
				-webkit-user-select : none;
				-ms-user-select     : none;
			}

			.student-context-menu-standard.context-menu-active {
				background-color : rgb(50, 115, 165);
				color            : #fff;
			}

			.student-context-menu-standard:hover {
				color : #fff;
			}

			.student-context-menu-standard:active,
			.student-context-menu-option:active>.student-context-menu-link {
				filter : contrast(0.85) blur(1px);
			}

			.student-context-menu-link {
				color           : #0e336c !important;
				text-decoration : none !important;
			}

			.student-context-menu-option:hover>.student-context-menu-link {
				border-bottom : 2px solid rgb(50, 115, 165);
				color         : rgb(50, 115, 165) !important;
			}

			.empty-context-menu-option {
				cursor : default;
			}

			.LO_field[data-col="CONTEXT_MENU"] {
				padding  : 0px;
				position : relative;
				z-index  : 0;
			}

			.student-context-menu-name {
				border-bottom : 1px solid rgb(50, 115, 165);
				color         : rgb(50, 115, 165);
				font-weight   : 700;
				padding       : 2px;
				margin        : 0 4px;
			}

			.student-context-menu-photo-companion {
				display    : inline-block;
				height     : 100%;
				left       : 0;
				padding    : 0 !important;
				position   : absolute;
				top        : 0;
				text-align : right;
				width      : 100%;
				z-index    : 1;
			}

			.student-context-menu-photo-companion-icon {
				display    : inline-block;
				font-size  : 24px;
				margin     : 16px 0;
				text-align : left;
				width      : calc(100% - 51px);
			}

			.student-context-menu-search-photo {
				left           : 6px;
				min-height     : 50px;
				max-height     : 50px;
				max-width      : 50px;
				pointer-events : none;
				position       : absolute;
				top            : 3px;
				z-index        : 9;
			}

			.student-search-photo-column-sizer {
				display : inline-block;
				height  : 50px;
				width   : 80px;
			}
		</style>


<script>
	var redSubmitDisabled = false;
	var dynascan_index = "focus//dynascan/index.php";
	var scanUrl = "https://pasco.focusschoolsoftware.com/uploaded-assets";
	var scanTmp = "/var/www/html/uploaded-assets/";
	var dynascan_host = window.location.host;
	var fu_data;

	 CKEDITOR.timestamp = '20200402'; </script>

<script id="site-custom-color-script">
	window.Focus = window.Focus || {};

	window.Focus.custom_color = "rgb(50, 115, 165)";
</script>

<style id="site-custom-color">
	.custom-background-color,
	.before-custom-background-color:before,
	.after-custom-background-color:after,
	.PopTable .ui-widget-header {
		background-color: rgb(50, 115, 165) !important;
		color: #FFF !important;
	}

	.custom-border-color,
	.before-custom-border-color:before,
	.after-custom-border-color:after {
		border-color: rgb(50, 115, 165) !important;
	}

	.custom-color,
	.before-custom-color:before,
	.after-custom-color:after {
		color: rgb(50, 115, 165) !important;
	}

	.custom-outline-color,
	.before-custom-outline-color:before,
	.after-custom-outline-color:after {
		outline-color: rgb(50, 115, 165) !important;
	}
</style>

							</div>

			
			<header class='site-header'>
				<!-- ip-10-0-2-194.ec2.internal -->

				<div class='site-header-left'>
					<a class='site-link  ' href='Modules.php?modname=misc/Portal.php' data-site=''>
						<img class='site-logo' src='https://pasco.focusschoolsoftware.com/focus/asset.php?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczpcL1wvcGFzY28uZm9jdXNzY2hvb2xzb2Z0d2FyZS5jb21cL2ZvY3VzIiwiYXVkIjoiaHR0cHM6XC9cL3Bhc2NvLmZvY3Vzc2Nob29sc29mdHdhcmUuY29tXC9mb2N1cyIsImlhdCI6MTY3NDQzMjAwMCwiZXhwIjoxNjc3MDI0MDAwLCJGb2N1c0Fzc2V0Ijp7ImZpbGVwYXRoIjoiXC92YXJcL3d3d1wvaHRtbFwvdXBsb2FkZWQtYXNzZXRzXC91cGxvYWRzXC9DdXN0b21GaWVsZHNfU0lTRGlzdHJpY3RfMVwvZmllbGRfZGlzdHJpY3RzfGxvZ29cLzI4OTE2OSIsInJlYWxwYXRoIjoiXC92YXJcL3d3d1wvaHRtbFwvdXBsb2FkZWQtYXNzZXRzXC91cGxvYWRzXC9DdXN0b21GaWVsZHNfU0lTRGlzdHJpY3RfMVwvZmllbGRfZGlzdHJpY3RzfGxvZ29cLzI4OTE2OSIsInNpemUiOjEzMjUyLCJtaW1ldHlwZSI6ImltYWdlXC9wbmciLCJkb3dubG9hZF9uYW1lIjpudWxsLCJzZXNzaW9uX2hhc2giOm51bGx9fQ.wRHaIbSEh4zurBiKj5pWqalnbKJZTGD1QzdxQd8moHA'>
					</a>

					<h1 class='site-title'>Portal</h1>

					
			<div class='site-help'>
				<button type='button' class='help-button site-header-button custom-background-color' title='Help'>
					<i class='fa fa-question-circle'></i>
					<span class='site-help-text'>Help</span>
				</button>
			</div>

			<div class='parent-menu-hamburger-container'>
				<button class='parent-menu-hamburger'>
					<i class='fa fa-bars parent-menu-hamburger-icon'></i>
				</button>
			</div>
		
				</div>

				<form id='site-session' class='site-session' action='Modules.php?modname=misc%2FPortal.php' method='POST'>
					<input type='hidden' name='top_right_form' value='1'>

					<div class='site-session-nowrap'>
						<div class='site-session-group small-group'>
							<div class='site-session-group-row'>
			<div class='site-session-username site-session-value custom-background-color site-session-text'>
				<input type='hidden' class='automation-user-full-name' value='Joseph Naples'>
				<div class='site-session-text-value'>Joseph Naples</div>
			</div>
		</div>
							<div class='site-session-group-row'></div>
						</div>

						<div class='site-session-group'>
							<div class='site-session-group-row'><div class='finance-hidden site-session-value custom-background-color site-header-button'>
				<select name='side_school' onchange='this.closest(".site-session").submit();' class='top-right-school swiftbox' style='max-width:250px;'><option value='135' >FLVS FL Virtual (dist 71) - V600 (XX)</option><option value='106' >Pasco eSchool - 7004 (XX)</option><option value='179' selected>Wendell Krinn Technical High School - 0128 (HS)</option></select></div></div>
							<div class='site-session-group-row'><div class='finance-hidden site-session-value custom-background-color site-header-button'><SELECT name=side_syear class='swiftbox' onChange='this.closest(".site-session").submit();'  ><OPTION value=2017>2017-2018</OPTION><OPTION value=2018>2018-2019</OPTION><OPTION value=2019>2019-2020</OPTION><OPTION value=2020>2020-2021</OPTION><OPTION value=2021>2021-2022</OPTION><OPTION value=2022 SELECTED>2022-2023</OPTION><OPTION value=2023>2023-2024</OPTION></SELECT></div>
			<div class='site-session-value custom-background-color site-header-button finance-hidden hidden'>
				<select name=side_mp class='swiftbox' onChange='document.forms[0].submit();'>
					<option  value="104683">Quarter 1</option>
<option  value="104684">Quarter 2</option>
<option selected value="104687">CTE Block S1</option>
<option  value="104685">Quarter 3</option>
<option  value="104686">Quarter 4</option>
<option  value="104682">CTE Block S2</option>

				</select>
			</div>
		</div>
						</div>

						
					</div>

					

					
					
				</form>
			</header>

			<script data-name="site_favorites_list" type="text/x-handlebars-template">
	<div class="site-favorites-list">
		<div class="site-favorites-section">
			{{~#each favorited~}}
				{{#if enabled}}
					<div class="site-favorite site-header-button">
						<a class="site-favorite-link" href="Modules.php?modname={{modname}}&force_package={{package}}">{{title}}</a>
						<button class="site-favorite-remove site-header-button" data-modname="{{modname}}" title="Remove from Favorites">
							<i class="fa fa-minus"></i>
						</button>
					</div>
				{{/if}}
			{{~/each~}}
		</div>

		{{#if recommended}}
			<div class="site-favorites-section recommended">
				<div class="site-favorites-title">Recommended</div>

				{{#each recommended}}
					{{#if enabled}}
						<div class="site-favorite site-header-button">
							<a class="site-favorite-link" href="Modules.php?modname={{modname}}&force_package={{package}}">{{title}}</a>
						</div>
					{{/if}}
				{{/each}}
			</div>
		{{/if}}
	</div>
</script>

			<script>
				window.Focus                = window.Focus || {};
				window.Focus.user_favorites = {"current":"misc\/Portal.php","favorited":[{"package":"SIS","modname":"misc\/Portal.php","title":"Portal","enabled":false}],"recommended":[]};
			</script>
			<script src='layout/header/site_favorites_list.js'></script>
		
			<div class="site-middle">
				<nav class="parent-menu-container custom-border-color">
	<div class="parent-menu-options-container">
		<form id="site-session-responsive" class="site-session" action="Modules.php?modname=misc%2FPortal.php" method="POST">
			<input type="hidden" name="top_right_form" value="1">

			<div class="site-session-nowrap">
				<div class="site-session-group">
					<div class="site-session-group-row"><div class='finance-hidden site-session-value custom-background-color site-header-button'>
				<select name='side_school' onchange='this.closest(".site-session").submit();' class='top-right-school ' style='max-width:250px;'><option value='135' >FLVS FL Virtual (dist 71) - V600 (XX)</option><option value='106' >Pasco eSchool - 7004 (XX)</option><option value='179' selected>Wendell Krinn Technical High School - 0128 (HS)</option></select></div></div>
					<div class="site-session-group-row"><div class='finance-hidden site-session-value custom-background-color site-header-button'><SELECT name=side_syear class='' onChange='this.closest(".site-session").submit();'  ><OPTION value=2017>2017-2018</OPTION><OPTION value=2018>2018-2019</OPTION><OPTION value=2019>2019-2020</OPTION><OPTION value=2020>2020-2021</OPTION><OPTION value=2021>2021-2022</OPTION><OPTION value=2022 SELECTED>2022-2023</OPTION><OPTION value=2023>2023-2024</OPTION></SELECT></div>
			<div class='site-session-value custom-background-color site-header-button finance-hidden hidden'>
				<select name=side_mp class='' onChange='document.forms[0].submit();'>
					<option  value="104683">Quarter 1</option>
<option  value="104684">Quarter 2</option>
<option selected value="104687">CTE Block S1</option>
<option  value="104685">Quarter 3</option>
<option  value="104686">Quarter 4</option>
<option  value="104682">CTE Block S2</option>

				</select>
			</div>
		</div>
				</div>
			</div>
		</form>

		<div class="parent-menu-icons">
							<a
					class      = "parent-menu-option-title current-page"
					data-index = "0"
					draggable  = "false"
					href       = "Modules.php?force_package=SIS&modname=misc/Portal.php"
					target     = "_self"
				>
					<i class="fa fa-home parent-menu-icon custom-color"></i>
					Portal				</a>
							<a
					class      = "parent-menu-option-title "
					data-index = "1"
					draggable  = "false"
					href       = "Modules.php?force_package=SIS&modname=Students/Student.php"
					target     = "_self"
				>
					<i class="fa fa-user parent-menu-icon custom-color"></i>
					My Information				</a>
							<a
					class      = "parent-menu-option-title "
					data-index = "2"
					draggable  = "false"
					href       = "Modules.php?force_package=SIS&modname=Users/Preferences.php"
					target     = "_self"
				>
					<i class="fa fa-cog parent-menu-icon custom-color"></i>
					Preferences				</a>
							<a
					class      = "parent-menu-option-title "
					data-index = "3"
					draggable  = "false"
					href       = "Modules.php?force_package=SIS&modname=Users/UserCalendarStudent.php"
					target     = "_self"
				>
					<i class="fa fa-calendar parent-menu-icon custom-color"></i>
					Calendar				</a>
							<a
					class      = "parent-menu-option-title "
					data-index = "4"
					draggable  = "false"
					href       = "Modules.php?force_package=SIS&modname=Scheduling/Schedule.php"
					target     = "_self"
				>
					<i class="fa fa-list parent-menu-icon custom-color"></i>
					Class Schedule				</a>
							<a
					class      = "parent-menu-option-title "
					data-index = "5"
					draggable  = "false"
					href       = "Modules.php?force_package=SIS&modname=Scheduling/Requests.php"
					target     = "_self"
				>
					<i class="fa fa-clipboard parent-menu-icon custom-color"></i>
					Class Requests				</a>
							<a
					class      = "parent-menu-option-title "
					data-index = "6"
					draggable  = "false"
					href       = "Modules.php?force_package=SIS&modname=Assessment/TestHistory.php"
					target     = "_self"
				>
					<i class="fa fa-line-chart parent-menu-icon custom-color"></i>
					Test History				</a>
							<a
					class      = "parent-menu-option-title "
					data-index = "7"
					draggable  = "false"
					href       = "Modules.php?force_package=SIS&modname=Assessment/TestHistoryReport.php"
					target     = "_self"
				>
					<i class="fa fa-line-chart parent-menu-icon custom-color"></i>
					Test History Report				</a>
							<a
					class      = "parent-menu-option-title "
					data-index = "8"
					draggable  = "false"
					href       = "Modules.php?force_package=SIS&modname=Attendance/StudentSummary.php"
					target     = "_self"
				>
					<i class="fa fa-ban parent-menu-icon custom-color"></i>
					Absences				</a>
							<a
					class      = "parent-menu-option-title "
					data-index = "9"
					draggable  = "false"
					href       = "Modules.php?force_package=SIS&modname=Attendance/AttendanceChart.php"
					target     = "_self"
				>
					<i class="fa fa-bell parent-menu-icon custom-color"></i>
					Attendance				</a>
							<a
					class      = "parent-menu-option-title "
					data-index = "10"
					draggable  = "false"
					href       = "Modules.php?force_package=SIS&modname=Discipline/Referrals.php"
					target     = "_self"
				>
					<i class="fa fa-flag parent-menu-icon custom-color"></i>
					Referrals				</a>
							<a
					class      = "parent-menu-option-title "
					data-index = "11"
					draggable  = "false"
					href       = "Modules.php?force_package=SIS&modname=Students/Reenrollment.php"
					target     = "_self"
				>
					<i class="fa fa-edit parent-menu-icon custom-color"></i>
					Forms Summary				</a>
					</div>

					<div class='parent-menu-sub-options-container '>
				<div class='parent-menu-sub-options-header'>
					<div class='parent-menu-sub-options-img-container'>
						<i class="fa fa-file parent-menu-icon parent-menu-forms-icon custom-color"></i>
					</div>
					<div class='parent-menu-sub-options-name'>
						Forms					</div>
					<i class='fa fa-angle-left parent-menu-sub-options-arrow'></i>
				</div>
				<div class='parent-menu-sub-options'>
											<div class="parent-menu-option parent-menu-form-option" data-index='0'>
							<a
								class     = "parent-menu-form-option-title "
								draggable = "false"
								href      = "Modules.php?force_package=SIS&modname=form-builder/requests&form_id=5&request[autoload_finance]=true"
							>
								Student Election Voting							</a>
						</div>
									</div>
			</div>
		
		<div class="parent-menu-childs">
					</div>
	</div>

	<div class="parent-menu-footer">
				<div class="parent-menu-footer-buttons">
			
			<button type='button' class='print-button parent-menu-footer-button parent-menu-print hidden' title='Print'>
				<i class='fa fa-print'></i>
				<span class='site-print-text'>Print</span>
			</button>

			<div class="parent-menu-footer-button parent-menu-logout">
				<a class="parent-menu-footer-button parent-menu-logout-link" href="index.php?logout">
					<i class='fa fa-sign-out'></i>
					Logout				</a>
			</div>
		</div>
	</div>
</nav>
<script>
	window.parent_menu = {"child":[],"forms":[{"title":"Student Election Voting","href":"Modules.php?force_package=SIS&modname=form-builder\/requests&form_id=5&request[autoload_finance]=true","current":"","icon":null,"target":"_self"}],"other":[{"title":"Portal","href":"Modules.php?force_package=SIS&modname=misc\/Portal.php","current":"current-page","icon":"home","target":"_self"},{"title":"My Information","href":"Modules.php?force_package=SIS&modname=Students\/Student.php","current":"","icon":"user","target":"_self"},{"title":"Preferences","href":"Modules.php?force_package=SIS&modname=Users\/Preferences.php","current":"","icon":"cog","target":"_self"},{"title":"Calendar","href":"Modules.php?force_package=SIS&modname=Users\/UserCalendarStudent.php","current":"","icon":"calendar","target":"_self"},{"title":"Class Schedule","href":"Modules.php?force_package=SIS&modname=Scheduling\/Schedule.php","current":"","icon":"list","target":"_self"},{"title":"Class Requests","href":"Modules.php?force_package=SIS&modname=Scheduling\/Requests.php","current":"","icon":"clipboard","target":"_self"},{"title":"Test History","href":"Modules.php?force_package=SIS&modname=Assessment\/TestHistory.php","current":"","icon":"line-chart","target":"_self"},{"title":"Test History Report","href":"Modules.php?force_package=SIS&modname=Assessment\/TestHistoryReport.php","current":"","icon":"line-chart","target":"_self"},{"title":"Absences","href":"Modules.php?force_package=SIS&modname=Attendance\/StudentSummary.php","current":"","icon":"ban","target":"_self"},{"title":"Attendance","href":"Modules.php?force_package=SIS&modname=Attendance\/AttendanceChart.php","current":"","icon":"bell","target":"_self"},{"title":"Referrals","href":"Modules.php?force_package=SIS&modname=Discipline\/Referrals.php","current":"","icon":"flag","target":"_self"},{"title":"Forms Summary","href":"Modules.php?force_package=SIS&modname=Students\/Reenrollment.php","current":"","icon":"edit","target":"_self"}]};

	var resize_timeout = null;

	document.addEventListener('click', toggleChildMenu);

	function toggleChildMenu(e) {
		if(!e.target.closest('.parent-menu-sub-options-header')) {
			return;
		}

		var container = e.target.closest('.parent-menu-sub-options-container');

		if(!container) {
			return console.error('Menu format is invalid');
		}

		container.classList.toggle('active');
	}
</script>

				<div class="site-content-container">
					<main class="site-content">
						<script>
	(function($)
	{
		let changing_dom  = false;
		let previous_html = false;
		let observer      = new window.MutationObserver(function(m, o) {
			// If character data has changed or a text node was added to an element, the DOM is probably being manipulated.
			if (m[0].type === "characterData" || m[0].target.nodeName === "#text") {
				return;
			}

			changing_dom  = true;
			previous_html = document.documentElement.outerHTML;
			changing_dom  = false;
		});

		$(document).on("ready", function() {
			let threshold = 240;

			setInterval(
				function() {
					console.clear();

					let is_mobile        = (("ontouchstart" in window || "onmsgesturechange" in window) && window.screenX === 0);
					let is_chrome        = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
					let ratio            = window.devicePixelRatio || 1;
					let outer_width      = (is_chrome) ? window.outerWidth : window.outerWidth * ratio;
					let inner_width      = window.innerWidth * ratio;
					let outer_height     = (is_chrome) ? window.outerHeight : window.outerHeight * ratio;
					let inner_height     = window.innerHeight * ratio;
					let width_threshold  = ((outer_width - inner_width) > threshold);
					let height_threshold = ((outer_height - inner_height) > threshold);

					// If Firebug is open or there is a large mismatch between the total window height and the inner height, dev tools are probably open.
					if (!is_mobile && ((window.Firebug && window.Firebug.chrome && window.Firebug.chrome.isInitialized) || width_threshold || height_threshold)) {
						window.location.reload();
					}

					let current_html = document.documentElement.outerHTML;

					// If the DOM doesn't match what we have recorded, something has changed when it shouldn't have.
					if (!previous_html && current_html) {
						previous_html = current_html;
					} else if (current_html !== previous_html && !changing_dom) {
						window.location.reload();
					}
				},
				2500
			);

			observer.observe(
				document,
				{
					childList     : true,
					attributes    : true,
					characterData : true,
					subtree       : true
				}
			);
		});
	})(jQuery);
</script>

		<script>
			class __Module__ {
				// Get the user's session ID
				static get session_id() {
					return "bnu8D1zRr979+EKpop8iX1CmHS1wGt1+z6jI0c9nvAw=";
				}

				// Get the URL for sending AJAX requests
				static get request_url() {
					return "/focus/classes/FocusModule.class.php?modname=misc%2FPortal.php";
				}

				// Provides a hook to manipulate the FormData sent with requests
				static async createFormData() {
					return new FormData();
				}

				// Build the XHR request from one or more request specs
				static async sendRequests(...specs) {
					// If there are no specs, just return placeholder Promises
					if(!specs.length) {
						return {
							response : Promise.resolve(null),
							xhr      : Promise.resolve(null),
						};
					}

					// Make sure there is a token
					if(!this.token) {
						throw new Error("Missing token");
					}

					// Create the form data
					const body     = await this.createFormData();
					const requests = [];

					// For each request
					for(const { request, files } of specs) {
						// Add the request
						requests.push(request);

						// Append any files to the form data
						for(const { id, file } of files) {
							body.append(id, file);
						}
					}

					// Append the method calls and the request token
					body.append('__call__', JSON.stringify({ requests }));
					body.append('__token__', this.token);

					// Send the AJAX request
					const method  = 'POST';
					const headers = { 'Authorization' : 'Bearer ' + this.session_id };
					const ajax    = this.ajax(this.request_url, { method, body, headers });

					// When the response is received
					ajax.response = ajax.response.then((response) => {
						// Make sure there are the same number of responses as requests
						if(response.length !== specs.length) {
							throw new Error("Invalid response");
						}

						// Add each response to the corresponding request
						for(let i = 0; i < response.length; i++) {
							specs[i].request.response = response[i];
						}

						// Return the raw response
						return response;
					});

					// Return the Module.ajax result
					return ajax;
				}

				// Batch requests in 50ms windows
				static throttledSendRequests(...specs) {
					if(!this._throttledSendRequests) {
						this._throttledSendRequests = this.throttle((...specs) => {
							return this.sendRequests(...specs);
						}, 50);
					}

					return this._throttledSendRequests(...specs);
				}

				// Send a controller method request
				static request({ controller, method, args }, isolate = false) {
					// Keep track of pending response Promises
					if(!this.request._pending) {
						this.request._pending = new Set();
					}

					const files = [];

					// Format arguments and extract files
					args = args.map((arg) => this.formatArgument(arg, files));

					const request = { controller, method, args };
					const spec    = { request, files };

					// Wait for any pending response Promises
					const ajax = isolate ? this.sendRequests(spec) : Promise.all(this.request._pending).then(() => {
						return this.throttledSendRequests(spec);
					});

					// Create separate promises for the XHR object and the response
					const xhr      = ajax.then(({ xhr }) => xhr);
					const response = ajax.then(({ response }) => response.then(() => request.response));

					// Add the response Promise to the pending set
					if(!isolate) {
						// Wait until the XHR is actually sent (otherwise this would break batching)
						xhr.catch(() => {}).then(() => {
							this.request._pending.add(response);

							response.catch(() => {}).then(() => {
								this.request._pending.delete(response);
							});
						});
					}

					// Return Promises for the XHR object and the response
					return { xhr, response };
				}

				// Initialize an object with mapped function calls for each controller method
				static init(methods, contexts = {}, options = {}) {
					const controllers      = {};
					const controller_names = [ ...new Set(Object.keys(methods).concat(Object.keys(contexts))) ];

					// For each controller
					for(let controller_name of controller_names) {
						// Split class names by namespace
						const parts = controller_name.split(/\\/);

						// Keep track of the current namespace level
						let current = controllers;

						while(parts.length) {
							// Shift off a namespace
							let part = parts.shift();

							// Add the namespace to the controllers object
							current[part] = current[part] || {};

							// Move down the namespace chain
							current = current[part];
						}

						// Create an object to represent this controller
						const controller = current;

						// Add the initial context
						if(controller_name in contexts) {
							const { data, output } = contexts[controller_name];

							controller.$context = data;

							if(output && output.length) {
								const full_method = `${controller_name}.getInitialContext`;

								this.outputDebug(`${full_method}()`, output, {
									'Method'           : full_method,
									'Method Arguments' : [],
								});
							}
						}

						// Add the method callers
						const controller_methods = methods[controller_name] || [];
						const controller_options = options[controller_name] || [];
						const always_isolate     = controller_options.includes(98);

						for(let method_name of controller_methods) {
							// This caller just returns the request object. This
							// is useful for methods that wrap other methods.
							const request = (...args) => {
								return {
									controller : controller_name,
									method     : method_name,
									args       : args,
								};
							};

							// Helper function to call the method with/without the 'isolate' flag
							const _call = (isolate, ...args) => {
								// Send the request
								const { xhr, response } = this.request(request(...args), isolate);

								// Handle the response
								const promise = response.then(({ error, result, output }) => {
									if(output && output.length) {
										const full_method = `${controller_name}.${method_name}`;
										const arg_string  = JSON.stringify(args).slice(1, -1);

										this.outputDebug(`${full_method}(${arg_string})`, output, {
											'Method'           : full_method,
											'Method Arguments' : args,
										});
									}

									if(error) {
										throw new Error(error);
									}

									return result;
								});

								// Map XHR upload event listeners
								promise.upload = {
									addEventListener    : (e, cb) => xhr.then((xhr) => xhr.upload.addEventListener(e, cb)),
									removeEventListener : (e, cb) => xhr.then((xhr) => xhr.upload.removeEventListener(e, cb)),
								};

								// Map XHR download event listeners
								promise.download = {
									addEventListener    : (e, cb) => xhr.then((xhr) => xhr.addEventListener(e, cb)),
									removeEventListener : (e, cb) => xhr.then((xhr) => xhr.removeEventListener(e, cb)),
								};

								return promise;
							};

							// This is the default caller, which executes the method, logs any output, and
							// returns a Promise that is resolved with the result or rejected with the error
							const call = (...args) => {
								return _call(false, ...args);
							};

							// This caller will send the request without batching it with other requests
							const isolate = (...args) => {
								return _call(true, ...args);
							};

							// This caller generates a URL that can be used
							// to execute the method with the given arguments
							const url = (...args) => {
								// Format request to be slightly more URL-friendly
								const call_args = [ controller_name, method_name ].concat(args);
								const call      = window.encodeURIComponent(JSON.stringify(call_args));

								return [
									window.location.origin,
									this.request_url,
									this.request_url.indexOf('?') === -1 ? '?' : '&',
									'__call__=' + call + '&',
									'__token__=' + this.token,
								].join('');
							};

							controller[method_name]         = always_isolate ? isolate : call;
							controller[method_name].isolate = isolate;
							controller[method_name].request = request;
							controller[method_name].url     = url;
						}
					}

					return controllers;
				}

				// Throttle a function to only run once every ms milliseconds, on the
				// trailing edge, and aggregate all the arguments passed to it
				static throttle(fn, ms) {
					// Aggregate arguments
					let args    = [];
					let current = null;

					// Return the throttled function
					return function(...tmp_args) {
						// Aggregate the arguments
						args = args.concat(tmp_args);

						// If there is no execution queued
						if(current === null) {
							// Queue an execution and overwrite the current promise
							current = new Promise(function(resolve, reject) {
								setTimeout(function() {
									// Clear the current promise
									current = null;

									// Call the original function with the aggregated arguments
									resolve(fn(...args.splice(0, args.length)));
								}, ms);
							});
						}

						return current;
					};
				}

				// Thin wrapper around XHR
				static ajax(url, options) {
					options = options || {};

					// Create the XHR object
					var xhr = new XMLHttpRequest();

					// This is necessary to enable upload events in Chrome
					// See: https://code.google.com/p/chromium/issues/detail?id=586643
					xhr.upload.addEventListener('loadstart', function() {});

					var response = new Promise(function(resolve, reject) {
						// Keep track of whether the promise has been fulfilled
						var fulfilled = false;

						// Fulfill the promise only once
						function fulfill(error, result) {
							if(!fulfilled) {
								if(error) {
									const e = new Error(error);

									e.__code__  = xhr.status;
									e.__fatal__ = true;

									reject(e);
								}
								else {
									resolve(result);
								}

								fulfilled = true;
							}
						};

						// Handle the load event
						xhr.addEventListener('load', function() {
							if(xhr.status === 200) {
								try {
									// Try to parse the response and resolve the promise
									fulfill(null, JSON.parse(xhr.responseText));
								}
								catch(error) {
									fulfill(error, null);
								}
							}
							else {
								fulfill(`Error: ${xhr.status}`, null);
							}
						});

						// Handle the 'error' event
						xhr.addEventListener('error', function() {
							fulfill(`Error: ${xhr.status}`, null);
						});

						// Handle 'timeout' and 'abort' events
						xhr.addEventListener('timeout', fulfill.bind(this, "Request timed out", null));
					});

					// Open the connection
					xhr.open(options.method || 'GET', url);

					// Set request headers
					if(options.headers) {
						for(var header in options.headers) {
							xhr.setRequestHeader(header, options.headers[header]);
						}
					}

					// Send the request
					xhr.send(options.body || '');

					// Return the raw XHR object and the response Promise
					return { response, xhr };
				}

				// Format arguments
				static formatArgument(arg, files) {
					if(!this.formatArgument.file_ctr) {
						this.formatArgument.file_ctr = 1;
					}

					// Handle File objects
					if(arg instanceof File) {
						const file = arg;
						const id   = `file::${this.formatArgument.file_ctr++}`;

						files.push({ id, file });

						return {
							__file__ : id
						};
					}

					// Handle Array objects
					if(arg instanceof Array) {
						arg = arg.map((arg) => {
							return this.formatArgument(arg, files);
						});
					}

					// Handle plain objects
					if(typeof arg === 'object' && arg !== null && Object.getPrototypeOf(arg) === Object.prototype) {
						const formatted = {};

						for(let i in arg) {
							if(arg.hasOwnProperty(i)) {
								formatted[i] = this.formatArgument(arg[i], files);
							}
						}

						return formatted;
					}

					return arg;
				}

				// Helper method to output debug logs from controller methods
				static outputDebug(title, message, extra_options) {
					if(title.length > 100) {
						title = `${title.slice(0, 100)}...`;
					}

					const showDebugOptions = function Click_Here_For_More_Options() {};

					showDebugOptions.prototype = Object.defineProperties(Object.create(null), {
						'>> Open Output in a Separate Window' : {
							enumerable : true,

							get : function() {
								const w = window.open('', '_blank');

								if(!w) {
									return 'Error opening window! Check that popups are not being blocked on this site.';
								}

								w.document.write(message);

								w.document.title                            = title;
								w.document.documentElement.style.whiteSpace = 'pre';

								return 'Window opened!';
							},
						},
					});

					console.groupCollapsed(`[Debug Output] ${title}`);
					console.dir(Object.assign(new showDebugOptions(), extra_options));
					console.log(message);
					console.groupEnd();
				}
			}

			window.__Module__ = __Module__;
		</script>

		
		<script>
			(function(global) {
				const Module     = global.__Module__;
				const App        = global.App || {};
				const Controller = global.Controller || {};

				// Initialize the App context
				const context = App.context || {};

				// Get the controller methods/initial contexts
				const {
					methods,
					initial_contexts,
					request_options,
				} = {"methods":{"FocusModule\\Cache":["wrap"],"FocusModule\\NuFile":["getFiles","downloadFile","generateTemporaryURL","uploadFile","deleteFile","postProcessFile"],"FocusModule\\NuSig":["getSignature"],"PortalController":["getDistrictNews","getDistrictPlanner","getCheckInBlock","checkInStudent","getCustomBlocks","getStudentGrades","getEnrollmentNews","getEnrollmentPlanner","getEnrollmentReports","emailTeacher"]},"request_options":[],"initial_contexts":{"PortalController":{"data":{"district":{"title":"District & School Announcements","news":{"items":[{"type":"alerts","color":"blue","icon":"fa-exclamation-triangle","icon_html":null,"date":null,"date_only":0,"title":"Alerts","subtitle":null,"body":null,"body_html":"\n\t\t\t\t<style>\n\t\t\t\t\t.portal-item[data-type=\"alerts\"] .portal-item-body-html > br {\n\t\t\t\t\t\tdisplay : none !important;\n\t\t\t\t\t}\n\n\t\t\t\t\t.portal-item[data-type=\"alerts\"] .portal-item-body-html > div + div {\n\t\t\t\t\t\tmargin-top : 0.75rem !important;\n\t\t\t\t\t}\n\t\t\t\t<\/style>\n\t\t\t\t<a data-test='email_notification_alert' href='Modules.php?modname=Users\/Preferences.php&system_tab=&tab=notifications'>\n\t\t\t\t\t<img src='modules\/Students\/Students.png' border='0'> You are not set to receive email notifications.<\/a><br>\n\t\t\t","media":null,"href":null,"href_target":null},{"type":"news","color":"blue","icon":"fa-newspaper-o","icon_html":null,"date":"2017-07-31 15:41:55-04","date_only":0,"title":"Click below to view Student Fees","subtitle":null,"body":null,"body_html":"<strong><span class=\"marker\"><span style=\"font-family:verdana,geneva,sans-serif;\"><span style=\"font-size:16px;\"><a href=\"https:\/\/www.studentquickpay.com\/pasco\/\" target=\"_blank\"><span style=\"color:#0000ff;\">Pay Student Fe<\/span><\/a><a href=\"http:\/\/www.studentquickpay.com\/pasco\/\" target=\"_blank\"><span style=\"color:#0000ff;\">es<\/span><\/a><span style=\"color:#0000ff;\">&nbsp;<\/span><\/span><\/span><\/span><\/strong>","media":null,"href":null,"href_target":null},{"type":"news","color":"blue","icon":"fa-newspaper-o","icon_html":null,"date":"2018-06-25 09:00:59-04","date_only":0,"title":"Click below to view the HS Report Card Back","subtitle":null,"body":null,"body_html":"<span style=\"font-size:16px;\"><span style=\"font-family:verdana,geneva,sans-serif;\"><strong><a href=\"https:\/\/livepascok12fl.sharepoint.com\/:b:\/s\/myStudent_University\/EXTGIXzelApGgyqT_CtRmPgBAHvXlz9bBbUbc_OSdNgANg?e=Y3Rqza\" target=\"_blank\"><span style=\"color:#0000FF;\">High School Report Card Back<\/span><\/a><\/strong><\/span><\/span><br \/>\n&nbsp;","media":null,"href":null,"href_target":null},{"type":"news","color":"blue","icon":"fa-newspaper-o","icon_html":null,"date":"2017-08-11 16:38:00-04","date_only":0,"title":"Bus Information","subtitle":"District Announcement","body":null,"body_html":"<span style=\"font-size:16px;\">To view your student&#39;s bus information be sure to select the school year in the right hand corner, select the <strong>Child<\/strong>&nbsp;on the left-hand side of the screen, click&nbsp;<strong>Child Info&nbsp;<\/strong>and then select Transportation Routes.<br \/>\n<br \/>\nFor more information:&nbsp;&nbsp;<a href=\"https:\/\/www.pasco.k12.fl.us\/transportation\/page\/compounds\/\" target=\"_blank\">Transportation contact information<\/a><\/span><br \/>\n<br \/>\n&nbsp;","media":null,"href":null,"href_target":null}]}},"check_in":null,"enrollments":[{"se_id":66665643,"syear":2022,"start_date":"2022-08-10","end_date":null,"is_primary":1,"can_view_student_portal_blocks":1,"can_view_gb_grades":1,"is_active":1,"school_id":179,"school_name":"Wendell Krinn Technical High School - 0128 (HS)","student_id":583340,"student_first_name":"Joseph","student_middle_name":"William","student_last_name":"Naples","student_nickname":null,"student_number":"583340","student_birthdate":"2007-07-14 00:00:00","student_image":"https:\/\/pasco.focusschoolsoftware.com\/focus\/asset.php?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczpcL1wvcGFzY28uZm9jdXNzY2hvb2xzb2Z0d2FyZS5jb21cL2ZvY3VzIiwiYXVkIjoiaHR0cHM6XC9cL3Bhc2NvLmZvY3Vzc2Nob29sc29mdHdhcmUuY29tXC9mb2N1cyIsImlhdCI6MTY3NDQzMjAwMCwiZXhwIjoxNjc3MDI0MDAwLCJGb2N1c0Fzc2V0Ijp7ImZpbGVwYXRoIjoiXC92YXJcL3d3d1wvaHRtbFwvdXBsb2FkZWQtYXNzZXRzXC9waG90b3NcL3N0dWRlbnRzXC8yMDIyXC81ODMzNDAuanBnIiwicmVhbHBhdGgiOiJcL3Zhclwvd3d3XC9odG1sXC91cGxvYWRlZC1hc3NldHNcL3Bob3Rvc1wvc3R1ZGVudHNcLzIwMjJcLzU4MzM0MC5qcGciLCJzaXplIjo4MzM2LCJtaW1ldHlwZSI6ImltYWdlXC9qcGVnIiwiZG93bmxvYWRfbmFtZSI6bnVsbCwic2Vzc2lvbl9oYXNoIjoiYmRhNzBkNWRiYmE3ZDA2YjMwOTI1MzkwY2Y4NjFlZTVhMjZiNzI1MSJ9fQ.EKQMdpr-vUhoppWWZ2Wk65AfyjEF0RLPWy4Bty-5TWs","student_tide_access_code":"avd2cv","pb_title":"Badges","__latest":1,"pb_available":"0","pb_spent":"0","pb_total":null,"mp_type":"quarter","student_tide_birthdate":"07142007","student_tide_first_name":"Joseph","mps":[{"se_id":66665643,"school_id":179,"syear":2022,"mp_id":104683,"mp_name":"Q1","mp_full_name":"Quarter 1","mp_start_date":"2022-08-10","mp_end_date":"2022-10-14","mp_active":null},{"se_id":66665643,"school_id":179,"syear":2022,"mp_id":104687,"mp_name":"CTES1","mp_full_name":"CTE Block S1","mp_start_date":"2022-08-10","mp_end_date":"2023-05-25","mp_active":null},{"se_id":66665643,"school_id":179,"syear":2022,"mp_id":104682,"mp_name":"CTES2","mp_full_name":"CTE Block S2","mp_start_date":"2022-08-10","mp_end_date":"2023-05-26","mp_active":null},{"se_id":66665643,"school_id":179,"syear":2022,"mp_id":104684,"mp_name":"Q2","mp_full_name":"Quarter 2","mp_start_date":"2022-10-18","mp_end_date":"2022-12-16","mp_active":null},{"se_id":66665643,"school_id":179,"syear":2022,"mp_id":104685,"mp_name":"Q3","mp_full_name":"Quarter 3","mp_start_date":"2023-01-03","mp_end_date":"2023-03-10","mp_active":1},{"se_id":66665643,"school_id":179,"syear":2022,"mp_id":104686,"mp_name":"Q4","mp_full_name":"Quarter 4","mp_start_date":"2023-03-21","mp_end_date":"2023-05-26","mp_active":null}],"active_mp":104685,"title":"Joseph","grades":{"rows":[{"student_id":583340,"student_first_name":"Joseph","student_last_name":"Naples","syear":2022,"school_id":179,"school_name":"WENDELL KRINN TECHNICAL HIGH SCHOOL","is_cte":null,"hide_attendance":null,"syear_display":"2022-2023","effective_date":"2023-01-27","rotation_enabled":null,"cp_id":892020,"cal_id":7141,"class_title":"01  - S2 - 001 - Lisa Ann Wenderoth","period_name":"01","period_id":31852,"end_period_name":null,"course_name":"AP MICROECON","room":"219","rotation_days":null,"course_number":"2102360Z","teacher_id":15271,"teacher_name":"Wenderoth, L","teacher_email":1,"teacher_message":null,"in_session":null,"next_class":null,"attendance_color":null,"attendance_short_name":"P","attended_hours":null,"web_page_href":null,"attendance_href":"https:\/\/pasco.focusschoolsoftware.com\/focus\/Modules.php?force_package=SIS&modname=Attendance\/StudentSummary.php&side_school=179&side_mp=104685&student_id=583340","flags":"","excused":"1","unexcused":"0","tardy":"0","credits_earned":"0","calculated_grade":"__GETCURRENTGRADE__","q3_mp_id":104685,"q3_mp_parent_id":104680,"q3_mp_type":"quarter","q3_mp_tier":1000000,"q3_mp_sort":999001004000,"q3_mp_local_index":4,"q3_mp_name":"Q3","q3_mp_grade":"86% B","q3_mp_grade_posted":null,"q3_mp_grade_href":"https:\/\/pasco.focusschoolsoftware.com\/focus\/Modules.php?modname=Grades\/StudentGBGrades.php&force_package=SIS&student_id=583340&course_period_id=892020&side_school=179&side_mp=104685","q3_mp_grade_format":"both"},{"student_id":583340,"student_first_name":"Joseph","student_last_name":"Naples","syear":2022,"school_id":179,"school_name":"WENDELL KRINN TECHNICAL HIGH SCHOOL","is_cte":null,"hide_attendance":null,"syear_display":"2022-2023","effective_date":"2023-01-27","rotation_enabled":null,"cp_id":945884,"cal_id":7141,"class_title":"02  - 002 - Dawn Marie Murch","period_name":"02","period_id":31851,"end_period_name":null,"course_name":"GEO HON","room":"126","rotation_days":null,"course_number":"1206320Z","teacher_id":72010,"teacher_name":"Murch, D","teacher_email":1,"teacher_message":null,"in_session":null,"next_class":null,"attendance_color":null,"attendance_short_name":"P","attended_hours":null,"web_page_href":null,"attendance_href":"https:\/\/pasco.focusschoolsoftware.com\/focus\/Modules.php?force_package=SIS&modname=Attendance\/StudentSummary.php&side_school=179&side_mp=104685&student_id=583340","flags":"H","excused":"1","unexcused":"0","tardy":"0","credits_earned":"0","calculated_grade":"__GETCURRENTGRADE__","q3_mp_id":104685,"q3_mp_parent_id":104680,"q3_mp_type":"quarter","q3_mp_tier":1000000,"q3_mp_sort":999001004000,"q3_mp_local_index":4,"q3_mp_name":"Q3","q3_mp_grade":"82% B","q3_mp_grade_posted":null,"q3_mp_grade_href":"https:\/\/pasco.focusschoolsoftware.com\/focus\/Modules.php?modname=Grades\/StudentGBGrades.php&force_package=SIS&student_id=583340&course_period_id=945884&side_school=179&side_mp=104685","q3_mp_grade_format":"both"},{"student_id":583340,"student_first_name":"Joseph","student_last_name":"Naples","syear":2022,"school_id":179,"school_name":"WENDELL KRINN TECHNICAL HIGH SCHOOL","is_cte":null,"hide_attendance":null,"syear_display":"2022-2023","effective_date":"2023-01-27","rotation_enabled":null,"cp_id":891813,"cal_id":7141,"class_title":"03  - 003 - Denise F Williams","period_name":"03","period_id":31843,"end_period_name":null,"course_name":"SPANISH 2","room":"113","rotation_days":null,"course_number":"0708350Z","teacher_id":13599,"teacher_name":"Williams, D","teacher_email":1,"teacher_message":null,"in_session":null,"next_class":null,"attendance_color":null,"attendance_short_name":"P","attended_hours":null,"web_page_href":null,"attendance_href":"https:\/\/pasco.focusschoolsoftware.com\/focus\/Modules.php?force_package=SIS&modname=Attendance\/StudentSummary.php&side_school=179&side_mp=104685&student_id=583340","flags":"","excused":"1","unexcused":"0","tardy":"0","credits_earned":"0","calculated_grade":"__GETCURRENTGRADE__","q3_mp_id":104685,"q3_mp_parent_id":104680,"q3_mp_type":"quarter","q3_mp_tier":1000000,"q3_mp_sort":999001004000,"q3_mp_local_index":4,"q3_mp_name":"Q3","q3_mp_grade":"97% A","q3_mp_grade_posted":null,"q3_mp_grade_href":"https:\/\/pasco.focusschoolsoftware.com\/focus\/Modules.php?modname=Grades\/StudentGBGrades.php&force_package=SIS&student_id=583340&course_period_id=891813&side_school=179&side_mp=104685","q3_mp_grade_format":"both"},{"student_id":583340,"student_first_name":"Joseph","student_last_name":"Naples","syear":2022,"school_id":179,"school_name":"WENDELL KRINN TECHNICAL HIGH SCHOOL","is_cte":null,"hide_attendance":null,"syear_display":"2022-2023","effective_date":"2023-01-27","rotation_enabled":null,"cp_id":891841,"cal_id":7141,"class_title":"04  - 004 - Darynn James Magee","period_name":"04","period_id":31850,"end_period_name":null,"course_name":"CHEM 1 HON","room":"211","rotation_days":null,"course_number":"2003350Z","teacher_id":13969,"teacher_name":"Magee, D","teacher_email":1,"teacher_message":null,"in_session":null,"next_class":null,"attendance_color":null,"attendance_short_name":"P","attended_hours":null,"web_page_href":null,"attendance_href":"https:\/\/pasco.focusschoolsoftware.com\/focus\/Modules.php?force_package=SIS&modname=Attendance\/StudentSummary.php&side_school=179&side_mp=104685&student_id=583340","flags":"H","excused":"1","unexcused":"0","tardy":"0","credits_earned":"0","calculated_grade":"__GETCURRENTGRADE__","q3_mp_id":104685,"q3_mp_parent_id":104680,"q3_mp_type":"quarter","q3_mp_tier":1000000,"q3_mp_sort":999001004000,"q3_mp_local_index":4,"q3_mp_name":"Q3","q3_mp_grade":"53% F","q3_mp_grade_posted":null,"q3_mp_grade_href":"https:\/\/pasco.focusschoolsoftware.com\/focus\/Modules.php?modname=Grades\/StudentGBGrades.php&force_package=SIS&student_id=583340&course_period_id=891841&side_school=179&side_mp=104685","q3_mp_grade_format":"both"},{"student_id":583340,"student_first_name":"Joseph","student_last_name":"Naples","syear":2022,"school_id":179,"school_name":"WENDELL KRINN TECHNICAL HIGH SCHOOL","is_cte":null,"hide_attendance":null,"syear_display":"2022-2023","effective_date":"2023-01-27","rotation_enabled":null,"cp_id":891802,"cal_id":7141,"class_title":"05  - 005 - Scott William Tumelty","period_name":"05","period_id":31854,"end_period_name":null,"course_name":"CPT & NET SECURITY","room":"214","rotation_days":null,"course_number":"9001320Z","teacher_id":71344,"teacher_name":"Tumelty, S","teacher_email":1,"teacher_message":null,"in_session":null,"next_class":null,"attendance_color":null,"attendance_short_name":"N\/A","attended_hours":null,"web_page_href":null,"attendance_href":"https:\/\/pasco.focusschoolsoftware.com\/focus\/Modules.php?force_package=SIS&modname=Attendance\/StudentSummary.php&side_school=179&side_mp=104685&student_id=583340","flags":"H","excused":"1","unexcused":"0","tardy":"0","credits_earned":"0","calculated_grade":"__GETCURRENTGRADE__","q3_mp_id":104685,"q3_mp_parent_id":104680,"q3_mp_type":"quarter","q3_mp_tier":1000000,"q3_mp_sort":999001004000,"q3_mp_local_index":4,"q3_mp_name":"Q3","q3_mp_grade":"96% A","q3_mp_grade_posted":null,"q3_mp_grade_href":"https:\/\/pasco.focusschoolsoftware.com\/focus\/Modules.php?modname=Grades\/StudentGBGrades.php&force_package=SIS&student_id=583340&course_period_id=891802&side_school=179&side_mp=104685","q3_mp_grade_format":"both"},{"student_id":583340,"student_first_name":"Joseph","student_last_name":"Naples","syear":2022,"school_id":179,"school_name":"WENDELL KRINN TECHNICAL HIGH SCHOOL","is_cte":null,"hide_attendance":null,"syear_display":"2022-2023","effective_date":"2023-01-27","rotation_enabled":null,"cp_id":945757,"cal_id":7141,"class_title":"06  - 006 - Michelle Josephine Ferguson","period_name":"06","period_id":31844,"end_period_name":null,"course_name":"ENG HON 2","room":"224","rotation_days":null,"course_number":"1001350Z","teacher_id":13858,"teacher_name":"Ferguson, M","teacher_email":1,"teacher_message":null,"in_session":null,"next_class":null,"attendance_color":null,"attendance_short_name":"P","attended_hours":null,"web_page_href":null,"attendance_href":"https:\/\/pasco.focusschoolsoftware.com\/focus\/Modules.php?force_package=SIS&modname=Attendance\/StudentSummary.php&side_school=179&side_mp=104685&student_id=583340","flags":"H","excused":"1","unexcused":"0","tardy":"0","credits_earned":"0","calculated_grade":"__GETCURRENTGRADE__","q3_mp_id":104685,"q3_mp_parent_id":104680,"q3_mp_type":"quarter","q3_mp_tier":1000000,"q3_mp_sort":999001004000,"q3_mp_local_index":4,"q3_mp_name":"Q3","q3_mp_grade":"91% A","q3_mp_grade_posted":null,"q3_mp_grade_href":"https:\/\/pasco.focusschoolsoftware.com\/focus\/Modules.php?modname=Grades\/StudentGBGrades.php&force_package=SIS&student_id=583340&course_period_id=945757&side_school=179&side_mp=104685","q3_mp_grade_format":"both"},{"student_id":583340,"student_first_name":"Joseph","student_last_name":"Naples","syear":2022,"school_id":179,"school_name":"WENDELL KRINN TECHNICAL HIGH SCHOOL","is_cte":null,"hide_attendance":null,"syear_display":"2022-2023","effective_date":"2023-01-27","rotation_enabled":null,"cp_id":891653,"cal_id":7141,"class_title":"07 07 - 001 - Scott William Tumelty","period_name":"07","period_id":31847,"end_period_name":"07","course_name":"CYBERSECURITY ESSEN","room":"214","rotation_days":null,"course_number":"9001330Z","teacher_id":71344,"teacher_name":"Tumelty, S","teacher_email":1,"teacher_message":null,"in_session":null,"next_class":null,"attendance_color":null,"attendance_short_name":"N\/A","attended_hours":null,"web_page_href":null,"attendance_href":"https:\/\/pasco.focusschoolsoftware.com\/focus\/Modules.php?force_package=SIS&modname=Attendance\/StudentSummary.php&side_school=179&side_mp=104685&student_id=583340","flags":"H","excused":"1","unexcused":"0","tardy":"0","credits_earned":"0","calculated_grade":"__GETCURRENTGRADE__","q3_mp_id":104685,"q3_mp_parent_id":104680,"q3_mp_type":"quarter","q3_mp_tier":1000000,"q3_mp_sort":999001004000,"q3_mp_local_index":4,"q3_mp_name":"Q3","q3_mp_grade":"96% A","q3_mp_grade_posted":null,"q3_mp_grade_href":"https:\/\/pasco.focusschoolsoftware.com\/focus\/Modules.php?modname=Grades\/StudentGBGrades.php&force_package=SIS&student_id=583340&course_period_id=891653&side_school=179&side_mp=104685","q3_mp_grade_format":"both"}],"mps":[{"mp_id":"q3_mp_id","mp_parent_id":"q3_mp_parent_id","mp_type":"q3_mp_type","mp_tier":"q3_mp_tier","mp_sort":"q3_mp_sort","mp_local_index":"q3_mp_local_index","mp_name":"q3_mp_name","mp_grade":"q3_mp_grade","mp_grade_posted":"q3_mp_grade_posted","mp_grade_href":"q3_mp_grade_href","mp_grade_format":"q3_mp_grade_format","name":"Q3","key":"q3","tier":1000000,"sort":999001004000,"local_index":4,"index":1}],"email_data":{"user_class":"SISStudent","user_id":583340,"user_email":"583340@student.pasco.k12.fl.us","user_name":"Joseph William Naples","edit_from_address":true,"staff_options":[{"value":13858,"text":"Ferguson, M"},{"value":13969,"text":"Magee, D"},{"value":72010,"text":"Murch, D"},{"value":71344,"text":"Tumelty, S"},{"value":15271,"text":"Wenderoth, L"},{"value":13599,"text":"Williams, D"}],"subject":"Message from Student: Joseph William Naples","jwt":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2NzQ4NDIzNTIsImV4cCI6MTY3NzQzNDM1MiwiYXVkIjoiaHR0cHM6XC9cL3Bhc2NvLmZvY3Vzc2Nob29sc29mdHdhcmUuY29tXC9mb2N1cyIsIkZvY3VzRW1haWwiOnsidXNlcl9jbGFzcyI6IlNJU1N0dWRlbnQiLCJ1c2VyX2lkIjo1ODMzNDAsInVzZXJfZW1haWwiOiI1ODMzNDBAc3R1ZGVudC5wYXNjby5rMTIuZmwudXMiLCJ1c2VyX25hbWUiOiJKb3NlcGggV2lsbGlhbSBOYXBsZXMiLCJlZGl0X2Zyb21fYWRkcmVzcyI6dHJ1ZSwic3RhZmZfb3B0aW9ucyI6W3sidmFsdWUiOjEzODU4LCJ0ZXh0IjoiRmVyZ3Vzb24sIE0ifSx7InZhbHVlIjoxMzk2OSwidGV4dCI6Ik1hZ2VlLCBEIn0seyJ2YWx1ZSI6NzIwMTAsInRleHQiOiJNdXJjaCwgRCJ9LHsidmFsdWUiOjcxMzQ0LCJ0ZXh0IjoiVHVtZWx0eSwgUyJ9LHsidmFsdWUiOjE1MjcxLCJ0ZXh0IjoiV2VuZGVyb3RoLCBMIn0seyJ2YWx1ZSI6MTM1OTksInRleHQiOiJXaWxsaWFtcywgRCJ9XSwic3ViamVjdCI6Ik1lc3NhZ2UgZnJvbSBTdHVkZW50OiBKb3NlcGggV2lsbGlhbSBOYXBsZXMifX0.0CQAMcghp6YyBTzEaIT0eGjYURTTHBVk6G4lZsA8spg"},"has_rotation":false,"has_attendance":true,"has_attended_hours":false,"has_calculated_grades":true,"has_flags":true,"hide_grades":false}},{"se_id":67034644,"syear":2022,"start_date":"2022-08-10","end_date":null,"is_primary":0,"can_view_student_portal_blocks":1,"can_view_gb_grades":1,"is_active":1,"school_id":106,"school_name":"Pasco eSchool - 7004 (XX)","student_id":583340,"student_first_name":"Joseph","student_middle_name":"William","student_last_name":"Naples","student_nickname":null,"student_number":"583340","student_birthdate":"2007-07-14 00:00:00","student_image":"https:\/\/pasco.focusschoolsoftware.com\/focus\/asset.php?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczpcL1wvcGFzY28uZm9jdXNzY2hvb2xzb2Z0d2FyZS5jb21cL2ZvY3VzIiwiYXVkIjoiaHR0cHM6XC9cL3Bhc2NvLmZvY3Vzc2Nob29sc29mdHdhcmUuY29tXC9mb2N1cyIsImlhdCI6MTY3NDQzMjAwMCwiZXhwIjoxNjc3MDI0MDAwLCJGb2N1c0Fzc2V0Ijp7ImZpbGVwYXRoIjoiXC92YXJcL3d3d1wvaHRtbFwvdXBsb2FkZWQtYXNzZXRzXC9waG90b3NcL3N0dWRlbnRzXC8yMDIyXC81ODMzNDAuanBnIiwicmVhbHBhdGgiOiJcL3Zhclwvd3d3XC9odG1sXC91cGxvYWRlZC1hc3NldHNcL3Bob3Rvc1wvc3R1ZGVudHNcLzIwMjJcLzU4MzM0MC5qcGciLCJzaXplIjo4MzM2LCJtaW1ldHlwZSI6ImltYWdlXC9qcGVnIiwiZG93bmxvYWRfbmFtZSI6bnVsbCwic2Vzc2lvbl9oYXNoIjoiYmRhNzBkNWRiYmE3ZDA2YjMwOTI1MzkwY2Y4NjFlZTVhMjZiNzI1MSJ9fQ.EKQMdpr-vUhoppWWZ2Wk65AfyjEF0RLPWy4Bty-5TWs","student_tide_access_code":"avd2cv","pb_title":"Badges","__latest":1,"pb_available":"0","pb_spent":"0","pb_total":null,"mp_type":"quarter","student_tide_birthdate":"07142007","student_tide_first_name":"Joseph","mps":[{"se_id":67034644,"school_id":106,"syear":2022,"mp_id":104160,"mp_name":"VQ","mp_full_name":"Virtual Quarter","mp_start_date":"2022-08-01","mp_end_date":"2023-07-31","mp_active":1}],"active_mp":104160,"title":"Joseph","grades":{"rows":[],"mps":[],"email_data":{"user_class":"SISStudent","user_id":583340,"user_email":"583340@student.pasco.k12.fl.us","user_name":"Joseph William Naples","edit_from_address":true,"staff_options":[],"subject":"Message from Student: Joseph William Naples","jwt":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2NzQ4NDIzNTIsImV4cCI6MTY3NzQzNDM1MiwiYXVkIjoiaHR0cHM6XC9cL3Bhc2NvLmZvY3Vzc2Nob29sc29mdHdhcmUuY29tXC9mb2N1cyIsIkZvY3VzRW1haWwiOnsidXNlcl9jbGFzcyI6IlNJU1N0dWRlbnQiLCJ1c2VyX2lkIjo1ODMzNDAsInVzZXJfZW1haWwiOiI1ODMzNDBAc3R1ZGVudC5wYXNjby5rMTIuZmwudXMiLCJ1c2VyX25hbWUiOiJKb3NlcGggV2lsbGlhbSBOYXBsZXMiLCJlZGl0X2Zyb21fYWRkcmVzcyI6dHJ1ZSwic3RhZmZfb3B0aW9ucyI6W10sInN1YmplY3QiOiJNZXNzYWdlIGZyb20gU3R1ZGVudDogSm9zZXBoIFdpbGxpYW0gTmFwbGVzIn19.kIFe43Zeb-WBVTpSE_XhkVL17XwbW_-B4exJe7sv2nA"},"has_rotation":false,"has_attendance":false,"has_attended_hours":false,"has_calculated_grades":false,"has_flags":false,"hide_grades":false}},{"se_id":67148358,"syear":2022,"start_date":"2022-10-04","end_date":null,"is_primary":0,"can_view_student_portal_blocks":1,"can_view_gb_grades":1,"is_active":1,"school_id":135,"school_name":"FLVS FL Virtual (dist 71) - V600 (XX)","student_id":583340,"student_first_name":"Joseph","student_middle_name":"William","student_last_name":"Naples","student_nickname":null,"student_number":"583340","student_birthdate":"2007-07-14 00:00:00","student_image":"https:\/\/pasco.focusschoolsoftware.com\/focus\/asset.php?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczpcL1wvcGFzY28uZm9jdXNzY2hvb2xzb2Z0d2FyZS5jb21cL2ZvY3VzIiwiYXVkIjoiaHR0cHM6XC9cL3Bhc2NvLmZvY3Vzc2Nob29sc29mdHdhcmUuY29tXC9mb2N1cyIsImlhdCI6MTY3NDQzMjAwMCwiZXhwIjoxNjc3MDI0MDAwLCJGb2N1c0Fzc2V0Ijp7ImZpbGVwYXRoIjoiXC92YXJcL3d3d1wvaHRtbFwvdXBsb2FkZWQtYXNzZXRzXC9waG90b3NcL3N0dWRlbnRzXC8yMDIyXC81ODMzNDAuanBnIiwicmVhbHBhdGgiOiJcL3Zhclwvd3d3XC9odG1sXC91cGxvYWRlZC1hc3NldHNcL3Bob3Rvc1wvc3R1ZGVudHNcLzIwMjJcLzU4MzM0MC5qcGciLCJzaXplIjo4MzM2LCJtaW1ldHlwZSI6ImltYWdlXC9qcGVnIiwiZG93bmxvYWRfbmFtZSI6bnVsbCwic2Vzc2lvbl9oYXNoIjoiYmRhNzBkNWRiYmE3ZDA2YjMwOTI1MzkwY2Y4NjFlZTVhMjZiNzI1MSJ9fQ.EKQMdpr-vUhoppWWZ2Wk65AfyjEF0RLPWy4Bty-5TWs","student_tide_access_code":"avd2cv","pb_title":"Badges","__latest":1,"pb_available":"0","pb_spent":"0","pb_total":null,"mp_type":"quarter","student_tide_birthdate":"07142007","student_tide_first_name":"Joseph","mps":[{"se_id":67148358,"school_id":135,"syear":2022,"mp_id":103533,"mp_name":"VQ","mp_full_name":"Virtual Quarter","mp_start_date":"2022-08-01","mp_end_date":"2023-07-31","mp_active":1}],"active_mp":103533,"title":"Joseph","grades":{"rows":[],"mps":[],"email_data":{"user_class":"SISStudent","user_id":583340,"user_email":"583340@student.pasco.k12.fl.us","user_name":"Joseph William Naples","edit_from_address":true,"staff_options":[],"subject":"Message from Student: Joseph William Naples","jwt":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2NzQ4NDIzNTIsImV4cCI6MTY3NzQzNDM1MiwiYXVkIjoiaHR0cHM6XC9cL3Bhc2NvLmZvY3Vzc2Nob29sc29mdHdhcmUuY29tXC9mb2N1cyIsIkZvY3VzRW1haWwiOnsidXNlcl9jbGFzcyI6IlNJU1N0dWRlbnQiLCJ1c2VyX2lkIjo1ODMzNDAsInVzZXJfZW1haWwiOiI1ODMzNDBAc3R1ZGVudC5wYXNjby5rMTIuZmwudXMiLCJ1c2VyX25hbWUiOiJKb3NlcGggV2lsbGlhbSBOYXBsZXMiLCJlZGl0X2Zyb21fYWRkcmVzcyI6dHJ1ZSwic3RhZmZfb3B0aW9ucyI6W10sInN1YmplY3QiOiJNZXNzYWdlIGZyb20gU3R1ZGVudDogSm9zZXBoIFdpbGxpYW0gTmFwbGVzIn19.kIFe43Zeb-WBVTpSE_XhkVL17XwbW_-B4exJe7sv2nA"},"has_rotation":false,"has_attendance":false,"has_attended_hours":false,"has_calculated_grades":false,"has_flags":false,"hide_grades":false}}],"custom_blocks":[]},"output":""}}};

				// Add the controller methods
				const controllers = Module.init(methods, initial_contexts, request_options);

				// Add the global context
				App.context = Object.assign(context, []);

				// Create the global App object
				global.App = App;

				// Create the global Controller object
				global.Controller = Object.assign(Controller, controllers);
			}(window));
		</script>

		
		<script>
			__Module__.token = "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2NzQ4NDIzNTIsImV4cCI6MTY3NzQzNDM1MSwiYXVkIjoiaHR0cHM6XC9cL3Bhc2NvLmZvY3Vzc2Nob29sc29mdHdhcmUuY29tXC9mb2N1cyIsImN0eCI6eyJoYXNoIjoiZTlmZTIyMGMxMTVmODM2Njg1OTlhZDc1MjE5OGVhNGMiLCJlbnYiOnsiX2RsciI6ZmFsc2UsIl9zbiI6IlBIUFNFU1NJRCIsIl9zIjpbXX19LCJqdGkiOiJtQWZYdmNQUEEzd0oyZFA1ajFuQXlkN0hvYm1Sd01wTzR4blJ5WWR1S2lZPSJ9.UAZ6qfT6Ic3p3eEJikIu6N4O-Mq_eST65LtuGnCLy9g";
		</script>

		<link rel="stylesheet" href="/focus/assets/modules/card/card.css?m=1674769132"><link rel="stylesheet" href="/focus/assets/modules/iconpicker/color_icon_picker.css?m=1674769132"><link rel="stylesheet" href="/focus/assets/modules/media/cropper.min.css?m=1674769132"><link rel="stylesheet" href="/focus/assets/modules/nufile/fileicon.css?m=1674769132"><link rel="stylesheet" href="/focus/assets/modules/nufile/nufile.css?m=1674769132"><link rel="stylesheet" href="/focus/assets/modules/nufile/nufile-focus.css?m=1674769132"><link rel="stylesheet" href="/focus/assets/modules/nusig/nusig.css?m=1674769132"><link rel="stylesheet" href="/focus/assets/modules/nusuggest/nusuggest.css?m=1674769132"><link rel="stylesheet" href="/focus/assets/modules/pikaday/newdate.css?m=1674769132"><link rel="stylesheet" href="/focus/assets/modules/pikaday/pikaday.css?m=1674769132"><link rel="stylesheet" href="/focus/assets/modules/richtext/richtext.css?m=1674769132"><link rel="stylesheet" href="/focus/assets/modules/semantic/focus-semantic.css?m=1674769132"><link rel="stylesheet" href="/focus/assets/modules/semantic/semantic.min.css?m=1674769132"><link rel="stylesheet" href="/focus/assets/font-awesome-4.7.0/css/font-awesome.min.css?m=1674769135"><link rel="stylesheet" href="/focus/modules/Grades/StudentGrades/student_grades_table.css?m=1674769160"><script type="text/x-handlebars-template" data-name="color_icon_picker">
	<div class="ui modal category-color-icon">
		<div class="ui header">
		{{#if title}}
				Change Icon for {{title}}
		{{else}}
				Change Icon
		{{/if}}
		</div>
		<div class="content">
			<div class="ui top attached header">
				Colors
			</div>
			<div class="ui bottom attached segment">
				<div class="ui six column doubling colors grid">
					{{#each colors}}
						<div class="stretched column">
							<button class="ui {{this}} button" title="{{this}}">{{this}}</button>
						</div>
					{{/each}}
				</div>
			</div>
			<div class="ui top attached header">
				Icons
			</div>
			<div class="ui bottom attached segment">
				<div class="ui twelve column doubling icons grid">
					{{#each icons}}
						<div class="center aligned column" data-icon="{{this}}">
							<i class="big {{this}} icon" title="{{this}}"></i>
						</div>
					{{/each}}
				</div>
			</div>
		</div>
		<div class="actions">
			<button class="ui left floated inverted red button clear-icon">Clear</button>
			<div class="ui buttons">
				<button class="ui red cancel button">Cancel</button>
				<button class="ui green ok button">Save</button>
			</div>
		</div>
	</div>
</script>
<template id='__nu_file_container__'>
	<span class="nu-file-container">
		<div class="nu-file-spinner">
			<div class="nu-file-double-bounce1"></div>
			<div class="nu-file-double-bounce2"></div>
		</div>
		<ul class="nu-file-files" data-translate-text="No Files">
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
			<li class="nu-file-filler"></li>
		</ul>
		<div class="nu-file-upload-container">
			<div class="nu-file-drop-target nu-file-target">
				<svg class="nu-file-svg-icon nu-file-upload-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
					<use xlink:href="#__nu_file_upload__"></use>
				</svg>
				<span class="nu-file-bold">Choose a file</span> or drag it here
			</div>
			<div class="nu-file-webcam-target nu-file-target">
					<svg class="nu-file-svg-icon nu-file-camara-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 600">
						<use xlink:href="#__nu_file_camera__"></use>
					</svg>
				<span>Take Photo</span>
			</div>
			<div class="nu-file-scan-target nu-file-target hidden">
					<svg class="nu-file-svg-icon nu-file-camara-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 600">
						<use xlink:href="#__nu_file_scanner__"></use>
					</svg>
				<span>Scan</span>
			</div>
		</div>
	</span>
</template>

<template id='__nu_file_file__'>
	<li class="nu-file-file">
		<a class="nu-file-select" target="_blank">
			<div class="nu-file-select-top">
				<div class="nu-file-icon nu-file-icon-lg"></div>
				<img class="nu-file-image">
			</div>
			<div class="nu-file-title"></div>
		</a>

		<div class="nu-file-controls">
			<progress class="nu-file-progress" value="0"></progress>

			<a href="#" class="nu-file-link nu-file-download" target="_blank">
				<svg class="nu-file-svg-icon nu-file-download-icon"><use xlink:href="#__nu_file_download__"></use></svg>
			</a>
			<a href="#" class="nu-file-link nu-file-delete">
				<svg class="nu-file-svg-icon nu-file-delete-icon"><use xlink:href="#__nu_file_delete__"></use></svg>
			</a>
		</div>
	</li>
</template>

<template id='__nu_file_buttons__'>
	<span class="nu-file-buttons">
		<button class="nu-file-scan translate" title="Scan Document(s)">Scan</button>
		<button class="nu-file-new translate" title="Click to choose file(s)">Upload</button>
		<button class="nu-file-webcam translate" title="Use Webcam">Take Photo</button>
		<button class="nu-file-expand nu-file-hide" title="Click to expand"></button>
	</span>
</template>

<template id='__nu_file_webcam__'>
	<div class="nu-file-webcam-container camera-mode">
		<video class="nu-file-webcam-stream half-screen"></video>
		<div class="nu-file-webcam-close">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"/></svg>
		</div>
		<div class="nu-file-webcam-controls">
			<div class="nu-file-webcam-mode nu-file-webcam-camera-mode">
				<div class="nu-file-webcam-control nu-file-webcam-stream-capture">
					<button>Take Photo</button>
				</div>
				<div class="nu-file-webcam-control nu-file-webcam-stream-switch">
					<button>Switch Camera</button>
				</div>
			</div>
			<div class="nu-file-webcam-mode nu-file-webcam-edit-mode">
				<div class="nu-file-webcam-control nu-file-webcam-stream-retake">
					<button>Retake Photo</button>
				</div>
				<div class="nu-file-webcam-control nu-file-webcam-stream-upload">
					<button>Upload</button>
				</div>
			</div>
		</div>
		<canvas style="display: none" class="nu-file-webcam-canvas"></canvas>
	</div>
</template>

<!--https://ionicons.com/-->
<svg xmlns="http://www.w3.org/2000/svg" style="display: none">
	<symbol id="__nu_file_upload__" viewBox="0 0 24 24">
		<title>Upload File</title>
		<path d="M14.016 12.984h3l-5.016-4.969-5.016 4.969h3v4.031h4.031v-4.031zM19.359 10.031q1.922 0.141 3.281 1.57t1.359 3.398q0 2.063-1.477 3.539t-3.539 1.477h-12.984q-2.484 0-4.242-1.758t-1.758-4.242q0-2.297 1.547-4.008t3.797-1.945q0.984-1.828 2.766-2.953t3.891-1.125q2.719 0 4.781 1.711t2.578 4.336z"></path>
	</symbol>
	<symbol id="__nu_file_delete__" viewBox="0 0 24 24">
		<title>Delete File</title>
		<path d="M12 20.016q3.281 0 5.648-2.367t2.367-5.648-2.367-5.648-5.648-2.367-5.648 2.367-2.367 5.648 2.367 5.648 5.648 2.367zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93zM14.578 8.016l1.406 1.406-2.578 2.578 2.578 2.578-1.406 1.406-2.578-2.578-2.578 2.578-1.406-1.406 2.578-2.578-2.578-2.578 1.406-1.406 2.578 2.578z"></path>
	</symbol>
	<symbol id="__nu_file_download__" viewBox="0 0 24 24">
		<title>Download File</title>
		<path d="M17.016 12.984h-3v-3.984h-4.031v3.984h-3l5.016 5.016zM19.359 10.031q1.922 0.141 3.281 1.57t1.359 3.398q0 2.063-1.477 3.539t-3.539 1.477h-12.984q-2.484 0-4.242-1.758t-1.758-4.242q0-2.297 1.547-4.008t3.797-1.945q0.984-1.828 2.766-2.953t3.891-1.125q2.719 0 4.781 1.711t2.578 4.336z"></path>
	</symbol>
	<symbol id="__nu_file_close__" viewBox="0 0 24 24">
		<title>Close</title>
		<path d="M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"/>
	</symbol>
	<symbol id="__nu_file_camera__">
		<circle cx="256" cy="280" r="63"/>
		<path d="M440 96h-88l-32-32H192l-32 32H72c-22.092 0-40 17.908-40 40v272c0 22.092 17.908 40 40 40h368c22.092 0 40-17.908 40-40V136c0-22.092-17.908-40-40-40zM256 392c-61.855 0-112-50.145-112-112s50.145-112 112-112 112 50.145 112 112-50.145 112-112 112z"/>
	</symbol>
	<symbol id="__nu_file_scanner__">
		<path d='M384 368h24a40.12 40.12 0 0040-40V168a40.12 40.12 0 00-40-40H104a40.12 40.12 0 00-40 40v160a40.12 40.12 0 0040 40h24' fill='none' stroke='currentColor' stroke-linejoin='round' stroke-width='32'/>
		<rect x='128' y='240' width='256' height='208' rx='24.32' ry='24.32' fill='none' stroke='currentColor' stroke-linejoin='round' stroke-width='32'/>
		<path d='M384 128v-24a40.12 40.12 0 00-40-40H168a40.12 40.12 0 00-40 40v24' fill='none' stroke='currentColor' stroke-linejoin='round' stroke-width='32'/>
		<circle cx='392' cy='184' r='24'/>
	</symbol>
</svg>
<!--https://ionicons.com/-->
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
	<symbol id="__nusig_pencil__" viewBox="0 0 512 512">
		<title>ionicons-v5-k</title>
		<polygon points="358.62 129.28 86.49 402.08 70 442 109.92 425.51 382.72 153.38 358.62 129.28" style="stroke-width: 44px;"/>
		<path d="M413.07,74.84,401.28,86.62l24.1,24.1,11.79-11.79a16.51,16.51,0,0,0,0-23.34l-.75-.75A16.51,16.51,0,0,0,413.07,74.84Z" style="stroke-width: 44px;"/>
	</symbol>
</svg>
<template id='__nu_suggest_container__'>
	<div class="nu-suggest-container">
		<div class="nu-suggest-loader">
			<div class="nu-suggest-spinner">
				<div class="nu-suggest-bounce1"></div>
				<div class="nu-suggest-bounce2"></div>
				<div class="nu-suggest-bounce3"></div>
			</div>
		</div>
		<ul class="nu-suggest-list"></ul>
	</div>
</template>

<template id='__nu_suggest_item__'>
	<li class="nu-suggest-item"></li>
</template>
<script>
	$(document).on('click', '.check-in-block .check-in-button', function() {
		const button = this;

		if(button.classList.contains('loading')) {
			return;
		}

		button.classList.add('loading');

		Controller.PortalController.checkInStudent()
			.then(function() {
				button.disabled = true;
			})
			.catch(function(error) {
				Focus.alert(error);
			})
			.then(function() {
				button.classList.remove('loading');
			});
	});
</script>

<script data-name="check_in_block" type="text/x-handlebars-template">
	<div data-component class="check-in-block">
		<div class="check-in-section">
			<div class="section-description">
				{{#_}}Click the button below to mark yourself present for today{{/_}}
			</div>

			<button class="check-in-button focus-button" {{#unless can_check_in}}disabled{{/unless}}>
				{{#_}}I'm present{{/_}}
			</button>
		</div>

		{{#if show_google_classroom}}
			<div class="check-in-section">
				<div class="section-description">
					{{#_}}Click the link below to be directed to Google Classroom{{/_}}
				</div>

				<a class="google-classroom-button" href="https://classroom.google.com/" title="{{#_}}Click to open{{/_}} Google Classroom" target="_blank">
					<img class="google-classroom-logo" src="assets/google_classroom.png" alt="Google Classroom {{#_}}Logo{{/_}}">
					<div>Google Classroom</div>
				</a>
			</div>
		{{/if}}
	</div>
</script>

<style>
	.check-in-block {
		position       : relative;
		display        : flex;
		flex-grow      : 1;
		flex-direction : column;
	}

	.check-in-section {
		padding    : 0.75rem;
		text-align : center;
	}

	.check-in-section + .check-in-section {
		margin-top : 1rem;
	}

	.check-in-block .check-in-button {
		padding   : 1rem 1.5rem;
		font-size : 1.5rem;
	}

	.check-in-block .check-in-button:not(:disabled) {
		background : rgb(0, 173, 0);
		color      : #FFF;
	}

	.check-in-block .check-in-button:disabled {
		opacity : 0.75;
		cursor  : not-allowed;
	}

	.check-in-section .section-description {
		margin-bottom : 0.75rem;
		font-size     : 1.25rem;
	}

	.check-in-section .google-classroom-logo {
		max-height : 100px;
	}
</style>
<script data-name="custom_block" type="text/x-handlebars-template">
	<div class="custom-block">{{{body}}}</div>
</script>

<style>
	.custom-block {
		position  : relative;
		flex-grow : 1;
		overflow  : auto;
		padding   : 0.75rem;
	}
</style>
<script>
	$(document).on('mount', '.district-block', function(e) {
		if(this !== e.target) {
			return;
		}

		const $this    = $(this);
		const $block   = $this.closest('.portal-block');
		const $content = $this.find('.district-block-content');
		let   tab      = 'news';
		let   context  = Controller.PortalController.$context.district;

		const tab_methods = {
			news   : Controller.PortalController.getDistrictNews,
			events : Controller.PortalController.getDistrictPlanner,
		};

		function update() {
			const current_tab = tab;
			const get_data    = !context[current_tab];
			const promise     = get_data ? tab_methods[current_tab]() : Promise.resolve(context[current_tab]);

			$block.toggleClass('loading', get_data);

			$this.find('.portal-block-tab.active').removeClass('active');
			$this.find('.portal-block-tab[data-key="' + current_tab + '"]').addClass('active');

			promise
				.then(function(tab_data) {
					context[current_tab] = tab_data;

					if(current_tab !== tab) {
						return;
					}

					const template = 'district_' + current_tab;
					const html     = Template[template](tab_data);

					$content
						.html(html)
						.prop('scrollTop', 0)
						.prop('scrollLeft', 0);

					$content.find('[data-component]').trigger('mount');
					$block.removeClass('loading');
				})
				.catch(function(e) {
					alert(e);
				})
				.then(function() {
					if(current_tab === tab) {
						$block.removeClass('loading');
					}
				});
		}

		$this.on('click', '.portal-block-tab', function() {
			const new_tab = this.getAttribute('data-key');

			if(new_tab !== tab) {
				tab = new_tab;

				update();
			}
		});

		update();
	});
</script>

<script data-name="district_block" type="text/x-handlebars-template">
	<div data-component class="district-block">
		<div class="portal-block-tabs">
			<button type="button" class="portal-block-tab plain focus-button portal-background-color" data-key="news">
				{{_ "News"}}
			</button>
			<button type="button" class="portal-block-tab plain focus-button portal-background-color" data-key="events">
				{{_ "Events"}}
			</button>
		</div>

		<div class="district-block-content"></div>
	</div>
</script>

<style>
	.district-block {
		position       : relative;
		display        : flex;
		flex-grow      : 1;
		flex-direction : column;
	}

	.district-block-content {
		position  : relative;
		flex-grow : 1;
		overflow  : auto;
	}
</style>
<script data-name="district_events" type="text/x-handlebars-template">
	<section class="district-events">
		<header class="district-events-header">
			<h2 class="district-events-title">
				{{_ "Upcoming Events"}}
			</h2>

			{{#if calendar_href}}
				<a class="district-events-calendar-link" href="{{calendar_href}}">
					<i class="fa fa-calendar" aria-hidden="true"></i>
					{{_ "View Calendar"}}
				</a>
			{{/if}}
		</header>

		<div class="district-events-content">
			{{> portal_planner}}
		</div>
	</section>
</script>

<style>
	.district-events {
		display        : flex;
		flex-direction : column;
	}

	.district-events-header {
		position      : sticky;
		z-index       : 1;
		top           : 0;
		flex-shrink   : 0;
		background    : #EEE;
		border-bottom : 1px solid rgba(0, 0, 0, 0.2);
	}

	.district-events-title {
		padding    : 0.5rem;
		font-size  : 1.1rem;
		text-align : center;
	}

	.district-events-content {
		position  : relative;
		z-index   : 0;
		flex-grow : 1;
	}

	.district-events-calendar-link {
		position  : absolute;
		right     : 0;
		top       : 50%;
		transform : translateY(-50%);
		padding   : 0 0.5rem;
		font-size : 0.9rem;
	}

	.district-events-calendar-link:hover {
		text-decoration : underline;
	}

	.district-events-calendar-link i {
		margin-right : 0.25rem;
	}
</style>
<script data-name="district_news" type="text/x-handlebars-template">
	<div class="district-news">
		{{#each items}}
			{{> portal_item}}
		{{else}}
			<div class="no-items">
				{{_ "There are no messages"}}
			</div>
		{{/each}}
	</div>
</script>

<style>
	.district-news {
		position : relative;
		padding  : 0.75rem;
	}

	.district-news .no-items {
		margin-top : 1rem;
		color      : rgba(0, 0, 0, 0.7);
		font-style : italic;
		font-size  : 1.3rem;
		text-align : center;
	}
</style>
<script data-name="portal_block" type="text/x-handlebars-template">
	<section class="portal-block {{color}}" data-type="{{component}}" {{#if student_id}} data-test="student-id-{{student_id}}" {{/if}} data-width="{{width}}" data-height="{{height}}">
		<header class="portal-block-header">
			{{#if image}}
				<div class="portal-block-image-container">
					<img class="portal-block-image" src="{{image}}" alt="{{title}} Image">
				</div>
			{{/if}}

			<div class="portal-block-title-container">
				<div class="portal-block-titles {{#if color}}portal{{else}}custom{{/if}}-background-color">
					<h2 class="portal-block-title">{{title}}</h2>

					{{#if title_component}}
						<div class="portal-block-title-component">{{> (lookup . 'title_component')}}</div>
					{{/if}}
				</div>

				<div class="portal-block-subtitles">
					{{~#if subtitle~}}
						<h3 class="portal-block-subtitle">{{subtitle}}</h3>
					{{~/if~}}

					{{~#if subtitle_component~}}
						<div class="portal-block-subtitle-component">{{> (lookup . 'subtitle_component')}}</div>
					{{~/if~}}
				</div>
			</div>
		</header>

		<div class="portal-block-content">{{> (lookup . 'component')}}</div>
	</section>
</script>

<style>
	.portal-block {
		display        : flex;
		flex-direction : column;
		border         : 1px solid rgba(0, 0, 0, 0.2);
		border-radius  : 5px;
		background     : rgb(255, 255, 255);
		box-shadow     : 0 5px 15px rgba(0, 0, 0, 0.2);
		overflow       : hidden;
	}

	.portal-block h1,
	.portal-block h2,
	.portal-block h3 {
		margin      : 0;
		font-weight : normal;
	}

	.portal-block-header {
		display       : flex;
		flex-shrink   : 0;
		border-bottom : 1px solid rgba(0, 0, 0, 0.2);
	}

	.portal-block-image-container {
		align-self  : stretch;
		flex-shrink : 0;
	}

	.portal-block-image {
		display    : block;
		height     : 4.75rem;
		max-height : 64px;
		max-width  : 64px;
	}

	.portal-block-title-container {
		flex-grow      : 1;
		display        : flex;
		flex-direction : column;
		overflow       : hidden;
	}

	.portal-block-titles {
		display : flex;
	}

	.portal-block-subtitles {
		display     : flex;
		background  : #FEFEFE;
	}

	.portal-block-title,
	.portal-block-subtitle {
		flex-grow     : 1;
		align-self    : center;
		white-space   : nowrap;
		overflow      : hidden;
		text-overflow : ellipsis;
	}

	.portal-block-title {
		padding   : 0.5rem 0.75rem;
		font-size : 1.4rem;
	}

	.portal-block-subtitle {
		padding   : 0.25rem 0.75rem;
		font-size : 1rem;
	}

	.portal-block-title-component,
	.portal-block-subtitle-component {
		flex-shrink : 0;
		display     : flex;
	}

	.portal-block-tabs {
		display       : flex;
		padding       : 0.75rem 0.75rem 0 0.75rem;
		border-bottom : 1px solid rgba(0, 0, 0, 0.2);
		background    : #FAFAFA;
		flex-shrink   : 0;
		overflow      : hidden;
	}

	.portal-block-tab {
		position      : relative;
		padding       : 0.5rem 1rem;
		border-radius : 3px 3px 0 0;
		border        : 1px solid rgba(0, 0, 0, 0.2);
		border-bottom : none;
		box-shadow    : 2px 2px 4px rgba(0, 0, 0, 0.1);
		text-align    : center;
		font-size     : 1.2rem;
		cursor        : pointer;
	}

	.portal-block-tab:not(.active) {
		background : #FFF !important;
		color      : #000 !important;
	}

	.portal-block-tab + .portal-block-tab {
		margin-left: 0.5rem;
	}

	.portal-block-content {
		position  : relative;
		display   : flex;
		flex-grow : 1;
		overflow  : hidden;
	}

	.portal-block-content > div,
	.portal-block-content > section {
		overflow : hidden;
	}

	.portal-block.loading .portal-block-content::before {
		content    : '';
		position   : absolute;
		z-index    : 99999;
		top        : 0;
		right      : 0;
		bottom     : 0;
		left       : 0;
		background : rgba(0, 0, 0, 0.2);
	}

	.portal-block.loading .portal-block-content::after {
		content          : '';
		position         : absolute;
		z-index          : 99999;
		top              : 50%;
		left             : 50%;
		width            : 40px;
		height           : 40px;
		border           : 5px solid rgba(255, 255, 255, 0.5);
		border-top-color : rgba(255, 255, 255, 0.9);
		border-radius    : 50%;
		transform        : translate(-50%, -50%);
		animation        : portal-block-loading 0.6s infinite linear;
	}

	.portal-block.blue .portal-background-color {
		background : #3C64A0;
		color      : #FFF;
	}

	.portal-block.orange .portal-background-color {
		background : #EF8D13;
		color      : #FFF;
	}

	@media screen and (max-width: 400px) {
		.portal-block-tab {
			padding : 0.25rem 0.5rem;
		}
	}

	@keyframes portal-block-loading {
		0% {
			transform : translate(-50%, -50%) rotate(0deg);
		}
		100% {
			transform : translate(-50%, -50%) rotate(360deg);
		}
	}
</style>
<script data-name="portal_item_group" type="text/x-handlebars-template">
	<section class="portal-item-group">
		<header class="portal-item-group-header">
			<h2 class="portal-item-group-title custom-background-color">
				{{title}}
			</h2>
		</header>

		<div class="portal-item-group-content">
			{{#each items}}
				{{> portal_item}}
			{{/each}}
		</div>
	</section>
</script>

<style>
	.portal-item-group {
		position    : relative;
		padding     : 0 0.75rem;
		color       : #000;
	}

	.portal-item-group:last-child {
		padding-bottom : 0.75rem;
	}

	.portal-item-group-header {
		position    : sticky;
		z-index     : 1;
		top         : 0;
		padding-top : 0.75rem;
		background  : #FFF;
	}

	.portal-item-group-title {
		padding    : 0.25rem;
		font-size  : 1.1rem;
		text-align : center;
	}

	.portal-item-group-content {
		position    : relative;
		z-index     : 0;
		padding-top : 0.75rem;
	}
</style>
<script>
	$(document).on('mount', '.portal-item', function(e) {
		if(this !== e.target) {
			return;
		}

		const $this             = $(this);
		const type              = this.getAttribute('data-type');
		let   animation_timeout = null;

		$this.on('click', '.portal-item-toggle', function() {
			const content = this.closest('.portal-item-content-container').querySelector('.portal-item-content');

			content.style.height = content.scrollHeight + 'px';

			void this.offsetHeight;
			this.closest('.portal-item').classList.toggle('collapsed');

			clearTimeout(animation_timeout);
			animation_timeout = setTimeout(function() {
				content.style.height = null;
			}, 250);
		});

		// PDF preview links
		$this.on('click', '.portal-item-link', function(e) {
			if(!['ssrs-report'].includes(type)) {
				return;
			}

			e.preventDefault();

			const iframe = document.createElement('iframe');

			iframe.src          = this.href;
			iframe.style.width  = '90vw';
			iframe.style.height = '90vh';

			iframe.addEventListener('load', function() {
				$(iframe).trigger('focusModalLoaded');
			});

			Focus.alert(iframe);

			$(iframe).trigger('focusModalLoading');
		});
	});
</script>

<script data-name="portal_item" type="text/x-handlebars-template">
	<article data-component class="portal-item {{#if collapsed}}collapsed collapsible{{/if}}" data-type="{{type}}">
		{{#if href}}
			<a class="portal-item-link plain focus-button" href="{{href}}" target="{{href_target}}">
		{{/if}}

		<header class="portal-item-header">
			<div class="portal-item-icon {{#if color}}{{color}}{{else}}blue{{/if}}">
				{{#if icon}}
					<i class="fa {{icon}}" aria-hidden="true"></i>
				{{/if}}

				{{{icon_html}}}
			</div>

			{{#if date}}
				<time
					class    = "portal-item-datetime"
					datetime = "{{#unless date_only}}{{dateFormat date}}{{else}}{{dateFormat date format='YYYY-MM-DD'}}{{/unless}}"
					title    = "{{dateFormat date format='dddd, MMMM Do, YYYY'}}{{#unless date_only}} {{_ "at"}} {{dateFormat date format='h:mm A'}}{{/unless}}"
				>
					<div class="portal-item-date">{{dateFormat date format='MM/DD'}}</div>

					{{#unless date_only}}
						<div class="portal-item-time">{{dateFormat date format='h:mm A'}}</div>
					{{/unless}}
				</time>
			{{/if}}

			<div class="portal-item-titles">
				<h2 class="portal-item-title">{{title}}</h2>

				{{#if subtitle}}
					<h3 class="portal-item-subtitle">{{subtitle}}</h3>
				{{/if}}
			</div>
		</header>

		{{#if href}}
			</a>
		{{/if}}

		<div class="portal-item-content-container">
			<div class="portal-item-content">
				{{~#if headline~}}
					<h3 class="portal-item-headline portal-item-content-block">{{headline}}</h3>
				{{~/if~}}

				{{~#if body~}}
					<div class="portal-item-body portal-item-content-block">
						{{~body~}}
					</div>
				{{~/if~}}

				{{~#if body_html~}}
					<div class="portal-item-body-html portal-item-content-block">
						{{~{body_html}~}}
					</div>
				{{~/if~}}

				{{~#if media~}}
					<div class="portal-item-media portal-item-content-block">{{{media}}}</div>
				{{~/if~}}
			</div>

			{{#if collapsed}}
				<button type="button" class="portal-item-toggle plain focus-button">
					<span class="portal-item-toggle-text expand">{{_ "Show More"}} &#9660;</span>
					<span class="portal-item-toggle-text collapse">{{_ "Show Less"}} &#9650;</span>
				</button>
			{{/if}}
		</div>
	</article>
</script>

<style>
	.portal-item {
		border     : 1px solid rgba(0, 0, 0, 0.2);
		box-shadow : 2px 2px 2px rgba(0, 0, 0, 0.1);
		overflow   : hidden;
	}

	.portal-item + .portal-item {
		margin-top : 0.75rem;
	}

	.portal-item-link {
		display : block;
	}

	.portal-item-header {
		display    : flex;
		background : #F0F0F0;
	}

	.portal-item-icon {
		display         : flex;
		flex-direction  : column;
		align-items     : center;
		justify-content : center;
		flex-shrink     : 0;
		color           : rgba(255, 255, 255, 0.9);
		width           : 3.25rem;
		min-height      : 3.25rem;
		font-size       : 1.6rem;
		line-height     : 1;
	}

	.portal-item-icon > img {
		max-width  : 100%;
		max-height : 100%;
	}

	.portal-item-datetime {
		display         : flex;
		flex-direction  : column;
		justify-content : center;
		flex-shrink     : 0;
		padding         : 0.25rem 0;
		width           : 4rem;
		border-right    : 1px solid rgba(0, 0, 0, 0.1);
		background      : rgba(0, 0, 0, 0.025);
		color           : #000;
		line-height     : 1.3;
		text-align      : center;
	}

	.portal-item-date {
		font-size : 0.9rem;
	}

	.portal-item-time {
		font-size : 0.7rem;
	}

	.portal-item-titles {
		display         : flex;
		flex-direction  : column;
		justify-content : space-evenly;
		flex-grow       : 1;
		padding         : 0.25rem 0.5rem;
		white-space     : nowrap;
		line-height     : 1.3;
		color           : rgba(0,0, 0, 0.8);
	}

	.portal-item-title {
		margin      : 0;
		font-size   : 1.1rem;
		font-weight : bold !important;
		white-space : normal;
	}

	.portal-item-subtitle {
		margin      : 0;
		font-size   : 0.8rem;
		white-space : normal;
	}

	.portal-item-content-container {
		position : relative;
		overflow : auto;
	}

	.portal-item-content {
		border       : solid rgba(0, 0, 0, 0.2);
		border-width : 1px 0 1px 0;
		background   : #FFF;
		transition   : height 0.25s ease;
	}

	.portal-item:not(.collapsible) .portal-item-content {
		border-bottom : 0;
	}

	.portal-item.collapsed .portal-item-content {
		height        : 0 !important;
		border-bottom : 0 !important;
	}

	.portal-item-content:empty,
	.portal-item-content:empty + .portal-item-toggle {
		display : none;
	}

	.portal-item-content-block {
		padding : 0.75rem;
	}

	.portal-item-content-block span {
		display: inline !important;
	}

	.portal-item-body-html.portal-item-content-block img {
		max-width: 100%;
	}

	.portal-item-toggle {
		display    : block;
		width      : 100%;
		padding    : 0.75rem;
		font-size  : 0.8rem;
		border     : 0;
		background : #FAFAFA;
		box-shadow : 1px 1px 1px rgba(255, 255, 255, 0.8) inset;
		color      : #09529A;
		text-align : center;
		cursor     : pointer;
	}

	.portal-item-toggle-text {
		display : none;
	}

	.portal-item.collapsed .portal-item-toggle-text.expand,
	.portal-item:not(.collapsed) .portal-item-toggle-text.collapse {
		display : block;
	}

	.portal-item-headline {
		font-weight : bold;
	}

	.portal-item-body {
		white-space : pre-line;
	}

	.portal-item-media {
		background : #F6F6F6;
		padding    : 0.75rem;
	}

	.portal-item-icon.blue {
		background : #3C64A0;
	}

	.portal-item-icon.orange {
		background : #EF8D13;
	}

	.portal-item-icon.green {
		background : #168003;
	}
</style>
<script data-name="portal_planner" type="text/x-handlebars-template">
	<table class="portal-planner">
		<tbody>
			{{#each dates}}
				<tr>
					<th class="shrink left portal-planner-date {{#if active}}active{{/if}}">
						<time class="portal-planner-date-text" datetime="{{dateFormat date format='YYYY-MM-DD'}}" title="{{dateFormat date format='dddd, MMMM Do, YYYY'}}{{#if active}} (today){{/if}}">
							{{dateFormat date format='MM/DD'}}
						</time>
					</th>
					<td class="portal-planner-body">
						{{#if items}}
							<ul class="portal-planner-items">
								{{#each items}}
									<li class="portal-planner-item">
										<span data-test="event" data-date="{{dateFormat date format='YYYY-MM-DD'}}" data-focus-tooltip="{{description}}">
											{{#if href}}
												<a href="{{href}}">{{title}}</a>
											{{else}}
												{{title}}
											{{/if}}
										</span>
									</li>
								{{/each}}
							</ul>
						{{/if}}
					</td>
				</tr>
			{{/each}}
		</tbody>
	</table>
</script>

<style>
	.portal-planner {
		width          : 100%;
		border-spacing : 0;
	}

	.portal-planner tr {
		background : #FFF;
	}

	.portal-planner tbody tr:nth-child(even) {
		background : #F3F3F3;
	}

	.portal-planner tbody tr:nth-child(even) .portal-planner-date::before {
		content    : '';
		position   : absolute;
		top        : 0;
		right      : 0;
		bottom     : 0;
		left       : 0;
		background : rgba(0, 0, 0, 0.2);
	}

	.portal-planner th,
	.portal-planner td {
		padding      : 0.5rem 0.75rem;
		border-width : 0;
		font-size    : 1rem;
		white-space  : nowrap;
	}

	.portal-planner tr + tr th,
	.portal-planner tr + tr td {
		border-top : 1px solid rgba(0, 0, 0, 0.1);
	}

	.portal-planner th {
		background  : #DDD;
		color       : #000;
		text-align  : left;
		font-weight : bold;
	}

	.portal-planner .stretch {
		width : 100%;
	}

	.portal-planner .shrink {
		width : 1px;
	}

	.portal-planner .left {
		text-align : left;
	}

	.portal-planner .center {
		text-align : center;
	}

	.portal-planner .right {
		text-align : right;
	}

	.portal-planner .portal-planner-date {
		position     : relative;
		background   : #3C64A0;
		color        : #FFF;
		font-weight  : normal;
		border-right : 1px solid rgba(0, 0, 0, 0.1);
	}

	.portal-planner-date.active::after {
		content             : '';
		position            : absolute;
		z-index             : 1;
		top                 : 0;
		right               : 0;
		border              : 5px solid;
		border-color        : #FFF;
		border-bottom-color : transparent;
		border-left-color   : transparent;
	}

	.portal-planner-date-text {
		position : relative;
		z-index  : 0;
	}

	.portal-planner tr:first-child .portal-planner-date.active::after {
		top : 1px;
	}

	.portal-planner-items {
		margin          : 0 0 0 1rem;
		padding         : 0;
		list-style-type : square;
	}

	.portal-planner-item + .portal-planner-item {
		margin-top : 0.5rem;
	}
</style>
<script>
	$(document).on('mount', '.student-block', function(e) {
		if(this !== e.target) {
			return;
		}

		const $this      = $(this);
		const $block     = $this.closest('.portal-block');
		const $tab       = $this.find('.portal-block-tab').first();
		const $mp        = $this.find('.student-block-mp.active');
		const $content   = $this.find('.student-block-content');
		const index      = Number($this.attr('data-index'));
		const se_id      = Number($this.attr('data-key'));
		const syear      = Number($this.attr('data-syear'));
		const school_id  = Number($this.attr('data-school-id'));
		const student_id = Number($this.attr('data-student-id'));
		let   tab        = $tab.attr('data-key');
		let   mp         = Number($mp.attr('data-key'));
		let   mp_name    = $mp.attr('data-name');
		let   context    = Controller.PortalController.$context.enrollments[index];

		const tab_methods = {
			grades : function() {
				return Controller.PortalController.getStudentGrades(student_id, syear, school_id, mp_name);
			},

			news    : Controller.PortalController.getEnrollmentNews,
			planner : Controller.PortalController.getEnrollmentPlanner,
			reports : Controller.PortalController.getEnrollmentReports,
		};

		function update() {
			const current_tab = tab;
			const get_data    = !context[current_tab];
			const promise     = get_data ? tab_methods[current_tab](se_id) : Promise.resolve(context[current_tab]);
			const show_mps    = current_tab === 'grades';

			$block.toggleClass('loading', get_data);

			$this.find('.portal-block-tab.active').removeClass('active');
			$this.find('.portal-block-tab[data-key="' + current_tab + '"]').addClass('active');

			$this.find('.student-block-mp.active, .student-block-mp-date.active').removeClass('active');
			$this.find('.student-block-mp[data-key="' + mp + '"], .student-block-mp-date[data-key="' + mp + '"]').addClass('active');

			promise
				.then(function(tab_data) {
					context[current_tab] = tab_data;

					if(current_tab !== tab) {
						return;
					}

					const template = 'student_' + current_tab;
					const html     = Template[template](tab_data);

					$content
						.html(html)
						.prop('scrollTop', 0)
						.prop('scrollLeft', 0);

					$content.find('[data-component]').trigger('mount');
					$this.find('.student-block-mps').toggleClass('active', show_mps);
					$block.removeClass('loading');
				})
				.catch(function(e) {
					alert(e);
				})
				.then(function() {
					if(current_tab === tab) {
						$block.removeClass('loading');
					}
				});
		}

		// Changing tabs
		$this.on('click', '.portal-block-tab', function() {
			const new_tab = this.getAttribute('data-key');

			if(new_tab !== tab) {
				tab = new_tab;

				update();
			}
		});

		// Changing MPs
		$this.on('click', '.student-block-mp', function() {
			const new_mp = Number(this.getAttribute('data-key'));

			if(new_mp !== mp) {
				mp           = new_mp;
				mp_name      = this.getAttribute('data-name');
				context[tab] = null;

				update();
			}
		});

		update();
	});
</script>

<script data-name="student_block" type="text/x-handlebars-template">
	<div data-component class="student-block" data-index="{{@index}}" data-key="{{se_id}}" data-syear="{{syear}}" data-school-id="{{school_id}}" data-student-id="{{student_id}}">
		<div class="portal-block-tabs">
			<button type="button" class="portal-block-tab plain focus-button custom-background-color" data-key="grades">
				{{_ "Grades"}}
			</button>

			<button type="button" class="portal-block-tab plain focus-button custom-background-color" data-key="news">
				{{_ "News"}}
			</button>

			{{#if can_view_gb_grades}}
				<button type="button" class="portal-block-tab plain focus-button custom-background-color" data-key="planner">
					{{_ "Planner"}}
				</button>
			{{/if}}

			<button type="button" class="portal-block-tab plain focus-button custom-background-color" data-key="reports">
				{{_ "Reports"}}
			</button>

			{{#if student_tide_access_code}}
				<form class="tide-portal" method="POST" target="_blank" action="https://api-familyportal.cambiumast.com/api/auth/autologin/florida">
					<input type="hidden" name="accesscode" value="{{student_tide_access_code}}">
					<input type="hidden" name="dateofbirth" value="{{student_tide_birthdate}}">
					<input type="hidden" name="name" value="{{student_tide_first_name}}">
					<button type="submit" class="plain link">
						<img class="tide-logo" src="assets/icons/fsa_logo.svg" title="{{_ 'Click to visit the Florida Statewide Assessments Family Portal'}}" alt="{{_ 'Florida Statewide Assessments Family Portal'}}">
					</button>
				</form>
			{{/if}}
		</div>

		<div class="student-block-mps">
			{{#each mps}}
				<button type="button" class="student-block-mp plain focus-button custom-background-color {{#if mp_active}}active{{/if}}" data-key="{{mp_id}}" data-name="{{mp_name}}"  title="{{mp_full_name}}    {{dateFormat mp_start_date format='MM/DD'}} - {{dateFormat mp_end_date format='MM/DD'}}">
					{{mp_name}}
				</button>
			{{/each}}

			<div class="student-block-mp-dates">
				{{#each mps}}
					<div class="student-block-mp-date" data-key="{{mp_id}}">
						<time datetime="{{dateFormat mp_start_date format='YYYY-MM-DD'}}" title="{{dateFormat mp_start_date format='dddd, MMMM Do, YYYY'}}">
							{{dateFormat mp_start_date format='MM/DD'}}
						</time>
						-
						<time datetime="{{dateFormat mp_end_date format='YYYY-MM-DD'}}" title="{{dateFormat mp_end_date format='dddd, MMMM Do, YYYY'}}">
							{{dateFormat mp_end_date format='MM/DD'}}
						</time>
					</div>
				{{/each}}
			</div>
		</div>

		<div class="student-block-content"></div>
	</div>
</script>

<style>
	.portal-block[data-type="student_block"] .portal-block-header {
		max-height : 65px;
	}

	.student-block {
		position       : relative;
		display        : flex;
		flex-grow      : 1;
		flex-direction : column;
		width          : 100%;
	}

	.student-block .tide-portal {
		align-self  : center;
		margin-left : auto;
	}

	.student-block .tide-portal .tide-logo {
		max-width : 120px;
	}

	.student-block-mps {
		display       : flex;
		border-bottom : 1px solid rgba(0, 0, 0, 0.2);
	}

	.student-block-mp-dates {
		display     : flex;
		align-items : center;
		flex-grow   : 1;
		padding     : 0.25rem 0.75rem;
		line-height : 1;
		font-size   : 0.9rem;
	}

	.student-block-mps:not(.active),
	.student-block-mp-date:not(.active) {
		display : none;
	}

	.student-block-mp {
		padding      : 0.5rem 1rem;
		border       : none;
		border-right : 1px solid rgba(0, 0, 0, 0.2);
		font-size    : 1.1rem;
		text-align   : center;
		cursor       : pointer;
	}

	.student-block-mp:not(.active) {
		background : rgba(0, 0, 0, 0) !important;
		color      : #000 !important;
	}

	.student-block-content {
		position  : relative;
		flex-grow : 1;
		min-height: 3.2rem;
		overflow  : auto;
	}

	@media screen and (max-width: 500px) {
		.student-block-mp {
			padding   : 0.5rem 0.75rem;
			font-size : 0.9rem;
		}

		.student-block-mp-dates {
			padding : 0.25rem 0.5rem;
		}
	}
</style>
<script data-name="student_grades" type="text/x-handlebars-template">
	<div class="student-grades">
		{{#if rows}}
			{{> student_grades_table compact=true hide_grade_indicators=true}}
		{{else}}
			<div class="no-items">
				{{_ "Schedule Not Available"}}
			</div>
		{{/if}}
	</div>
</script>

<style>
	.student-grades .no-items {
		margin-top : 1rem;
		color      : rgba(0, 0, 0, 0.7);
		font-style : italic;
		font-size  : 1.3rem;
		text-align : center;
	}
</style>
<script data-name="student_news" type="text/x-handlebars-template">
	<div class="student-news">
		{{#each groups}}
			{{> portal_item_group}}
		{{else}}
			<div class="no-items">
				{{_ "There are no news items"}}
			</div>
		{{/each}}
	</div>
</script>

<style>
	.student-news-grade-letter {
		font-size : 1.5rem;
	}

	.student-news-grade-percent {
		font-size : 1rem;
	}

	.student-news-grade-letter:empty,
	.student-news-grade-percent:empty {
		display : none;
	}

	.student-news .no-items {
		margin-top : 1rem;
		color      : rgba(0, 0, 0, 0.7);
		font-style : italic;
		font-size  : 1.3rem;
		text-align : center;
	}
</style>
<script data-name="student_planner" type="text/x-handlebars-template">
	<section class="student-planner">
		<header class="student-planner-header">
			<h2 class="student-planner-title">
				{{_ "Assignments Due"}}
			</h2>
		</header>

		<div class="student-planner-content">
			{{> portal_planner}}
		</div>
	</section>
</script>

<style>
	.student-planner {
		display        : flex;
		flex-direction : column;
	}

	.student-planner-header {
		position      : sticky;
		z-index       : 1;
		top           : 0;
		flex-shrink   : 0;
		background    : #EEE;
		border-bottom : 1px solid rgba(0, 0, 0, 0.2);
	}

	.student-planner-title {
		padding    : 0.5rem;
		font-size  : 1.1rem;
		text-align : center;
	}

	.student-planner-content {
		position  : relative;
		z-index   : 0;
		flex-grow : 1;
	}
</style>
<script data-name="student_positive_behaviors" type="text/x-handlebars-template">
	{{#if pb_total}}
		<div class="student-positive-behaviors">
			<div class="student-pb-title" title="{{pb_title}}">
				{{pb_title}}
			</div>
			<div class="student-pb-count" title="{{pb_title}} {{_ "Available"}}">
				{{_ "Avail"}}: {{pb_available}}
			</div>
			<div class="student-pb-count" title="{{pb_title}} {{_ "Spent"}}">
				{{_ "Spent"}}: {{pb_spent}}
			</div>
		</div>
	{{/if}}
</script>

<style>
	.student-positive-behaviors {
		display     : flex;
		align-items : center;
		padding     : 0.25rem 0.75rem;
		font-size   : 0.8rem;
		border-left : 1px solid rgba(0, 0, 0, 0.1);
	}

	.student-pb-title {
		margin-right : 0.5rem;
		font-weight  : bold;
	}

	.student-pb-count + .student-pb-count {
		margin-left : 0.5rem;
	}
</style>
<script data-name="student_reports" type="text/x-handlebars-template">
	<section class="student-reports">
		{{#each items}}
			{{> portal_item}}
		{{else}}
			<div class="no-items">
				{{_ "No Reports Found"}}
			</div>
		{{/each}}
	</section>
</script>

<style>
	.student-reports {
		position : relative;
		padding  : 1rem;
	}

	.student-reports .no-items {
		margin-top : 1rem;
		color      : rgba(0, 0, 0, 0.7);
		font-style : italic;
		font-size  : 1.3rem;
		text-align : center;
	}
</style>
<script data-name="portal" type="text/x-handlebars-template">
	<div class="portal">
		{{> portal_block district component='district_block' color='orange'}}

		{{#each enrollments}}
			{{> portal_block component='student_block' subtitle=school_name subtitle_component='student_positive_behaviors' image=student_image identifier=student_number}}
		{{/each}}

		{{#if check_in}}
			{{> portal_block check_in component='check_in_block' title=check_in.title}}
		{{/if}}

		{{#each custom_blocks}}
			{{> portal_block component='custom_block' color='blue'}}
		{{/each}}

		<div class="portal-block filler"></div>
		<div class="portal-block filler"></div>
		<div class="portal-block filler"></div>
		<div class="portal-block filler"></div>
		<div class="portal-block filler"></div>
	</div>
</script>

<style>
	@media screen and (max-width: 600px) {
		html {
			font-size : 12px;
		}
	}

	@media screen and (max-width: 450px) {
		html {
			font-size : 11px;
		}
	}

	@media screen and (max-width: 350px) {
		html {
			font-size : 10px;
		}
	}

	@media screen and (max-width: 320px) {
		html {
			font-size : 9px;
		}
	}

	.portal {
		box-sizing            : border-box;
		position              : relative;
		display               : grid;
		grid-template-columns : repeat(auto-fit, minmax(500px, min-content));
		grid-auto-flow        : dense;
		grid-auto-rows        : min-content;
		grid-gap              : 1.5rem;
		justify-content       : center;
		min-height            : 100%;
		padding               : 1rem;
		background            : rgb(245, 245, 245);
		box-shadow            : 0 0 0 5rem rgb(255, 255, 255);
		font-size             : 1rem;
	}

	.portal::before {
		content     : '';
		position    : absolute;
		z-index     : 0;
		grid-column : 1 / -1;
		width       : 100%;
		height      : 100%;
		background  : rgb(255, 255, 255);
		outline     : 3rem solid rgb(255, 255, 255);
	}

	.portal-block {
		position   : relative;
		z-index    : 1;
		width      : 900px;
		max-width  : 100%;
		max-height : 500px;
	}

	.portal-block.filler {
		display : none;
	}

	@media screen and (max-width: 900px) {
		.portal {
			grid-template-columns : repeat(auto-fit, minmax(0, min-content));
		}

		.portal-block {
			grid-column : 1 / -1 !important;
		}
	}

	@media screen and (max-width: 1100px) {
		.portal-block {
			max-height : unset;
		}
	}

	/* IE11 Support ------------------ */
		@media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {
			.portal {
				display   : flex;
				flex-wrap : wrap;
				padding   : 1rem 0 0 1rem;
			}

			.portal::before {
				display : none;
			}

			.portal-block {
				width     : 500px;
				max-width : 900px;
				margin    : 0 1rem 1rem 0;
				flex-grow : 1;
			}

			.portal-block.filler {
				display    : block;
				min-height : 0;
				height     : 0;
				margin-top : 0;
				border     : none;
				overflow   : hidden;
			}
		}

		@media screen and (max-width: 1200px) and (-ms-high-contrast: active), screen and (max-width: 1200px) and (-ms-high-contrast: none) {
			.portal-block {
				width : 100%;
			}
		}
	/* ------------------------------- */
</style>
<script data-name="student_grades_table" type="text/x-handlebars-template">
	<div class="student-grades-table-container">
		<table
			class            = "student-grades-table"
			data-setting-key = "student-grades-table"
			data-sort        = "syear_display DESC, school_name, period_name, course_name"
			data-stretch
			{{#unless mobile_app}}
				data-pagination = "25"
				data-record-count data-export data-print data-toggle-columns
			{{/unless}}
		>
			<thead>
				<tr>
					<th data-sort class="center {{#unless show_year}}hidden{{/unless}}" title="{{_ "School Year"}}">{{_ "Year"}}</th>
					<th data-sort class="left {{#unless show_school}}hidden{{/unless}}" title="{{_ "School Name"}}">{{_ "School"}}</th>
					<th data-sort class="{{#unless mobile_app}}center{{else}}left shrink{{/unless}}" title="{{_ "School Period"}}">{{_ "Pd"}}</th>
					<th data-sort class="{{#unless has_rotation}}hidden{{/unless}}" title="{{_ "Rotation Days"}}">{{_ "Rot"}}</th>
					<th data-sort class="left {{#if compact}}hidden{{/if}}" title="{{_ "Course Number"}}">{{_ "Course"}} #</th>
					<th data-sort class="left expand" title="{{_ "Course Name"}}">{{_ "Course"}}</th>
					<th data-sort class="left {{#if compact}}mobile-hidden {{#if mobile_app}}hidden{{/if}}{{/if}}" title="{{_ 'Teacher'}}"><span>{{_ 'Teacher'}}</span></th>
					<th data-sort class="center {{#if compact}}hidden{{/if}} {{#unless has_flags}}hidden{{/unless}}" title="{{_ "Flags"}}">{{_ "Flags"}}</th>
					<th data-sort class="center {{#unless has_attendance}}hidden{{/unless}} {{#if mobile_app}}shrink{{/if}}" title="{{_ "Excused Absences"}}">{{_ "Ex"}}</th>
					<th data-sort class="center {{#unless has_attendance}}hidden{{/unless}} {{#if mobile_app}}shrink{{/if}}" title="{{_ "Unexcused Absences"}}">{{_ "Unx"}}</th>
					<th data-sort class="center {{#unless has_attendance}}hidden{{/unless}} {{#if mobile_app}}shrink{{/if}}" title="{{_ "Tardies"}}">{{_ "Tardy"}}</th>
					<th data-sort class="center {{#if has_attendance}}hidden{{/if}} {{#unless has_attended_hours}}hidden{{/unless}} {{#if mobile_app}}shrink{{/if}}" title="{{_ 'Attended Hours'}}">{{_ 'Attended Hours'}}</th>

					{{#each mps}}
						<th class="right {{#if ../mobile_app}}shrink{{/if}} {{#if ../hide_grades}}hidden{{/if}}" data-sort title="{{name}} {{_ "Grade"}}">
							{{#if ../show_mp}}
								{{name}}
							{{else}}
								{{_ "Grade"}}
							{{/if}}
						</th>
					{{/each}}

					<th data-sort class="center {{#if compact}}hidden{{/if}}" title="{{_ "Credits Earned"}}">{{_ "Credits"}}</th>
				</tr>
			</thead>
			<tbody class="grades-table-classes">
				{{#each rows}}
					<tr class="center student-grade {{#if in_session}}active{{/if}}" data-key="{{cp_id}}">
						<td class="{{#unless ../show_year}}hidden{{/unless}}" title="{{_ "School Year"}}" data-field="syear_display" data-filter>
							{{syear_display}}
						</td>
						<td class="left mobile-wrap {{#unless ../show_school}}hidden{{/unless}}" title="{{_ "School Name"}}" data-field="school_name" data-filter>
							{{school_name}}
						</td>
						<td class="{{#unless ../mobile_app}}center{{else}}left{{/unless}}" title="{{_ "School Period"}}" data-field="period_name" data-filter>
							{{#if period_name}}
								{{period_name}}
								{{#if period_end_name}}
									- {{period_end_name}}
								{{/if}}
							{{else}}
								<div class="hidden">ZZZ</div>
							{{/if}}
						</td>
						<td class="center {{#unless ../has_rotation}}hidden{{/unless}}" title="{{_ "Rotation Days"}}" data-field="rotation_days" data-filter>
							{{rotation_days}}
						</td>
						<td class="left {{#if ../compact}}hidden{{/if}}" title="{{_ "Course Number"}}" data-field="course_number" data-filter>
							{{course_number}}
						</td>
						{{#unless ../mobile_app}}
							<td class="left mobile-wrap" title="{{_ "Course Name"}}" data-field="course_name" data-filter>
								{{#if web_page_href}}
									<a class="cell-link" href="{{web_page_href}}" title="{{_ "Course Name"}} - {{_ "Click to visit the course web page"}}">
										{{course_name}}
									</a>
								{{else}}
									{{course_name}}
								{{/if}}
							</td>
							<td class="left {{#if ../compact}}mobile-hidden{{/if}}" title="{{_ "Teacher"}}" data-field="teacher_name" data-filter>
								{{#if teacher_message}}
									<a role="button" class="message-user cell-link" title="{{_ "Teacher"}} - {{_ "Click to message teacher"}}" data-user-id="{{teacher_id}}">
										{{teacher_name}}
									</a>
								{{else if teacher_email}}
									<a role="button" class="email-user cell-link" title="{{_ "Teacher"}} - {{_ "Click to email teacher"}}" data-user-id="{{teacher_id}}">
										{{teacher_name}}
									</a>
								{{else if teacher_name}}
									{{teacher_name}}
								{{else}}
									N/A
								{{/if}}
							</td>
						{{else}}
							<td
								class        = "left course-name student-button"
								data-field   = "course"
								data-student = "{{student_id}}"
								data-section = "{{cp_id}}"
								data-room    = "{{room}}"
							>
								{{#if course_name}}
									{{course_name}}
								{{/if}}
								{{#if teacher_name}}
									- {{teacher_name}}{{#if in_session}} {{/if}}
								{{/if}}
								{{#if in_session}}
									<div class="in-progress">{{_ "In Progress"}}</div>
								{{/if}}
							</td>

							{{#unless ../compact}}
								<td class="left" title="{{_ "Teacher"}}" data-field="teacher" data-filter>
									{{#if teacher}}
										{{teacher}}
									{{else}}
										N/A
									{{/if}}
								</td>
							{{/unless}}
						{{/unless}}
						<td class="center {{#if ../compact}}hidden{{/if}} {{#unless ../has_flags}}hidden{{/unless}}" title="{{_ "Flags"}}" data-field="flags" data-filter>
							{{flags}}
						</td>
						<td class="center {{#unless ../has_attendance}}hidden{{/unless}}" title="{{_ "Excused Absences"}}" data-field="excused" data-filter>
							{{#unless ../mobile_app}}
								{{#if attendance_href}}
									<a class="cell-link" href="{{attendance_href}}" title="{{_ "Excused Absences"}} - {{_ "Click to visit the attendance summary"}}">
										{{excused}}
									</a>
								{{else}}
									{{excused}}
								{{/if}}
							{{else}}
								{{excused}}
							{{/unless}}
						</td>
						<td class="center {{#unless ../has_attendance}}hidden{{/unless}}" title="{{_ "Unexcused Absences"}}" data-field="unexcused" data-filter>
							{{#unless ../mobile_app}}
								{{#if attendance_href}}
									<a class="cell-link" href="{{attendance_href}}" title="{{_ "Unexcused Absences"}} - {{_ "Click to visit the attendance summary"}}">
										{{unexcused}}
									</a>
								{{else}}
									{{unexcused}}
								{{/if}}
							{{else}}
								{{unexcused}}
							{{/unless}}
						</td>
						<td class="center {{#unless ../has_attendance}}hidden{{/unless}}" title="{{_ "Tardies"}}" data-field="tardy" data-filter>
							{{#unless ../mobile_app}}
								{{#if attendance_href}}
									<a class="cell-link" href="{{attendance_href}}" title="{{_ "Tardies"}} - {{_ "Click to visit the attendance summary"}}">
										{{tardy}}
									</a>
								{{else}}
									{{tardy}}
								{{/if}}
							{{else}}
								{{tardy}}
							{{/unless}}
						</td>
						<td
							class="center {{#if ../has_attendance}}hidden{{/if}} {{#unless ../has_attended_hours}}hidden{{/unless}}"
							title="{{_ 'Attended Hours'}}"
							data-field="attended_hours"
							data-filter
						>
							{{#unless ../mobile_app}}
								{{#if attendance_href}}
									<a class="cell-link" href="{{attendance_href}}" title="{{_ 'Attended Hours'}} - {{_ 'Click to visit the attendance summary'}}">
										{{attended_hours}}
									</a>
								{{else}}
									{{attended_hours}}
								{{/if}}
							{{else}}
								{{attended_hours}}
							{{/unless}}
						</td>

						{{#each ../mps as |mp|}}
							<td class="right nowrap {{#if ../../hide_grades}}hidden{{/if}}" data-field="mp_{{mp.key}}" data-filter>
								{{#if (lookup ../this mp.mp_grade)}}
									{{#unless ../../mobile_app}}
										{{#if (lookup ../this mp.mp_grade_href)}}
											<a
												href  = "{{lookup ../this mp.mp_grade_href}}"
												class = "cell-link"
												title = "{{mp.name}} {{_ "Grade"}} {{#unless ../../hide_grade_indicators}}({{#if (lookup ../this mp.mp_grade_posted)}}{{_ "Final"}}{{else}}{{_ "Calculated"}}{{/if}}) {{/unless}}- {{_ "Click to visit the course gradebook"}}"
											>
										{{else}}
											<div
												class = "plain cell-link"
												title = "{{mp.name}} {{_ "Grade"}} {{#unless ../../hide_grade_indicators}}({{#if (lookup ../this mp.mp_grade_posted)}}{{_ "Final"}}{{else}}{{_ "Calculated"}}{{/if}}){{/unless}}"
											>
										{{/if}}
									{{/unless}}

										{{lookup ../this mp.mp_grade}}

										{{#unless ../../hide_grade_indicators}}
											{{#unless (lookup ../this mp.mp_grade_posted)}}
												<div class="calculated-grade"></div>
											{{/unless}}
										{{/unless}}

									{{#unless ../../mobile_app}}
										{{#if (lookup ../this mp.mp_grade_href)}}
											</a>
										{{else}}
											</div>
										{{/if}}
									{{/unless}}
								{{/if}}
							</td>
						{{/each}}

						<td class="center {{#if ../compact}}hidden{{/if}}" title="{{_ "Credits Earned"}}" data-field="credits_earned" data-filter>
							{{credits_earned}}
						</td>
					</tr>
				{{/each}}
			</tbody>
		</table>

		{{#unless hide_grade_indicators}}
			<div class="student-grades-table-legend {{#if compact}}hover-hidden{{/if}} {{#unless has_calculated_grades}}hidden{{/unless}}">
				{{_ "Calculated grades are marked with"}} <div class="symbol-container"><div class="calculated-grade"></div></div>
			</div>
		{{/unless}}

		{{#unless mobile_app}}
			{{#with email_data}}
				<form class="student-grades-email focus-modal-hidden" data-jwt="{{jwt}}">
					<label class="email-label messenger-hidden {{#unless edit_from_address}}hidden{{/unless}}">
						<div class="email-label-text">{{_ "Your Email"}}:</div>
						<input class="email-from" value="{{user_email}}">
					</label>

					<label class="email-label">
						<div class="email-label-text">{{_ "Send to"}}:</div>
						<select multiple class="swiftbox email-to">
							{{#each staff_options}}
								<option value="{{value}}">{{text}}</option>
							{{/each}}
						</select>
					</label>

					<label class="email-cc-label email-label messenger-hidden">
						<div class="email-label-text">{{_ "CC"}} ({{_ "Optional"}}):</div>
						<input class="email-cc">
					</label>

					<label class="email-subject-label email-label messenger-hidden">
						<div class="email-label-text">{{_ "Subject"}} ({{_ "Optional"}}):</div>
						<input class="email-subject">
					</label>

					<div class="student-grades-email-textarea-container">
						<textarea class="email-textarea"></textarea>
					</div>

					<div class="student-grades-email-buttons">
						<div class="email-buttons-left">
							<label class="email-label messenger-hidden">
								<input type="checkbox" class="email-personal-copy">
								<div class="email-label-text">{{_ "Receive a personal copy"}}</div>
							</label>
						</div>

						<button type="button" class="email-cancel focus-button">{{_ "Cancel"}}</button>
						<button class="email-send focus-button">{{_ "Send"}}</button>
					</div>
				</form>
			{{/with}}
		{{/unless}}
	</div>
</script>
<script  src="/focus/assets/modules/cache/cache.js?m=1674769132"></script><script  src="/focus/assets/modules/card/card.js?m=1674769132"></script><script  src="/focus/assets/modules/card/jquery.card.js?m=1674769132"></script><script  src="/focus/assets/modules/error_handler/error_handler.js?m=1674769132"></script><script  src="/focus/assets/modules/iconpicker/color_icon_picker.js?m=1674769132"></script><script  src="/focus/assets/modules/legacy/call_methods.js?m=1674769132"></script><script  src="/focus/assets/modules/media/cropper.min.js?m=1674769132"></script><script  src="/focus/assets/modules/media/media.js?m=1674769132"></script><script  src="/focus/assets/modules/nufile/nufile-focus.js?m=1674769132"></script><script  src="/focus/assets/modules/nufile/nufile.js?m=1674769132"></script><script  src="/focus/assets/modules/nusig/nusig-focus.js?m=1674769132"></script><script  src="/focus/assets/modules/nusig/nusig.js?m=1674769132"></script><script  src="/focus/assets/modules/nusig/signature_pad.min.js?m=1674769132"></script><script  src="/focus/assets/modules/nusuggest/nusuggest-focus.js?m=1674769132"></script><script  src="/focus/assets/modules/nusuggest/nusuggest.js?m=1674769132"></script><script  src="/focus/assets/modules/pikaday/newdate.js?m=1674769132"></script><script  src="/focus/assets/modules/pikaday/pikaday.js?m=1674769132"></script><script  src="/focus/assets/modules/richtext/richtext.js?m=1674769132"></script><script  src="/focus/assets/modules/router/router.js?m=1674769132"></script><script  src="/focus/assets/modules/semantic/semantic.min.js?m=1674769132"></script><script  src="/focus/assets/modules/templates/focus-handlebars.js?m=1674769132"></script><script  src="/focus/modules/misc/portal/handlebars-dateFormat.js?m=1674769159"></script><script  src="/focus/modules/misc/portal/init.js?m=1674769159"></script><script  src="/focus/modules/Grades/StudentGrades/student_grades_table.js?m=1674769160"></script>					</main>
					<div class="site-loading">

	<div class="spinner-container">
		<div class="spinner">
			<div class="double-bounce1"></div>
			<div class="double-bounce2"></div>
		</div>
	</div>

</div>
				</div>
			</div>

			
<footer class="site-footer custom-border-color">
	<div class="site-footer-left">
		<button type="button" class="site-page-search-button" title="Page Search (Ctrl + Space)">
			Page Search		</button>
	</div>

	
	<div class="site-footer-middle">
					<a class="footer-button student-list-button plain link hidden" href="">
				Back to Student List			</a>
			<a class="footer-button user-list-button plain link hidden" href="">
				Back to User List			</a>
							<button type="button" class="footer-button print-button plain link hidden">
					Print				</button>
				<button type="button" class="footer-button print-options-button plain hidden">
					&#9660;
				</button>
					
		<a class="footer-button create-report-button plain link hidden" href="Modules.php?modname=Reports/SavedReports.php&modfunc=new">
			Create Report		</a>

		<button type="button" class="footer-button unlock-button plain link hidden">
			Unlock		</button>
	</div>

	<div class="site-footer-right">
		
		<button type="button" class="footer-button help-button plain link">
			Help		</button>

		<a class="footer-button logout-button plain link" href="index.php?logout">
			Logout		</a>
	</div>

		</footer>
		</div>

		
<div class="site-extra">
	
<div class="focus-help focus-modal-hidden">
	<div class="focus-help-iframe-container">
		<iframe class="focus-help-iframe"></iframe>
	</div>

	<form class="focus-help-preferences reset-form">
		<div class="focus-help-new-window-container">
			<a class="focus-help-new-window" href="index.php?profile=student&amp;fullpage=1" target="_blank">
				Open in a new window			</a>
		</div>
	</form>
</div>

<script>
	// Focus.HelpController is defined in help.js
	Focus.HelpController.initialized     = true;
	Focus.HelpController.base_url        = "";
	Focus.HelpController.ss_help_url     = "FocusUniversity.php?focus_university_action=getssarticle&profile=parent";
	Focus.HelpController.help_url        = "index.php?profile=student";
	Focus.HelpController.profile         = "student";
	Focus.HelpController.modname         = "misc\/Portal.php";
	Focus.HelpController.session_url     = "FocusUniversity.php?focus_university_action=sessionkey";
	Focus.HelpController.client_id       = "18059";
</script>
<div class="login-as-popup focus-modal-hidden">
	<h2>Log In As:</h2>
	<select class="swiftbox login-as"></select>
</div>
<div id="focus-modal-template" class="focus-modal hidden">
	<div class="focus-modal-overlay"></div>

	<div class="focus-modal-container">
		<div class="focus-modal-close-button">
			X
		</div>

		<div class="focus-modal-title"></div>

		<div class="focus-modal-content"></div>
	</div>
</div>

<script>
(function() {
	if(Focus && Focus.PrintController) {
		Focus.PrintController.post_string = {"modname":"misc\/Portal.php"};
	}
}());
</script>

<div class="focus-print focus-modal-hidden">
	<iframe class="focus-print-iframe"></iframe>
</div>

<form class="focus-print-options reset-form hidden">
	<h1 class="focus-print-options-header">Print Options</h1>

	<div>
		<div class="focus-print-label-text">
			Template:
		</div>

		<select class="focus-print-option-template">
			<option value=""></option>

			<option value='2' >Report Card</option><option value='6' >CTE Transcript</option><option value='9' >Course Requests</option><option value='11' >Graduation Plan</option><option value='20' >Referral Log Template</option><option value='21' >Print FTE Detail Template</option><option value='22' >Pasco Transcript High School</option><option value='23' >Pasco Transcript Elementary</option><option value='24' >Pasco Transcript Middle School</option><option value='25' >Pasco Transcript Adult Educ</option><option value='26' >Pasco Certificate of Achievement</option><option value='27' >Survey 2 Bell Certification Secondary Template</option><option value='28' >Student Schedule - 2nd Semester</option><option value='29' >Transcript 1-page</option><option value='31' >Print FTE Summary Template</option><option value='32' >Survey 3 Bell Certification Secondary Template</option><option value='33' >Academic Worksheet Long</option><option value='35' >Student Schedule High School</option><option value='37' >Student Schedule Middle School</option><option value='40' >Pasco Transcript K-12</option><option value='41' >School Choice Email Template</option><option value='42' >Old - Pasco Pathways Acceptance Letter</option><option value='43' >Old Pasco Pathways Declined Letter</option><option value='44' >Old - Pasco Pathways Waitlisted Letter</option><option value='45' >School Choice Email Template</option><option value='46' >Old Pasco Pathways SEC Appeal Approved</option><option value='47' >Old Pasco Pathways SEC/ELEM Appeal Declined</option><option value='48' >Old Pasco Pathways ELEM Appeal Approved</option><option value='51' >Blank</option><option value='52' >Pasco District Letterhead</option><option value='53' >Old Pasco Pathways Reminder Acceptance</option><option value='55' >Current Date</option><option value='57' >Pasco Pathways Secondary Waitlist ALL</option><option value='58' >Pasco Pathways Secondary Decline ALL </option><option value='59' >Pasco Pathways Secondary Regular School Choice Acceptance </option><option value='60' >Pasco Pathways WKTHS Acceptance </option><option value='61' >Pasco Pathways Secondary SK8 Acceptance </option><option value='62' >Pasco Pathways IB Secondary Acceptance </option><option value='63' >Pasco Pathways Secondary Cambridge Acceptance </option><option value='64' >Pasco Pathways Secondary Center for Gifted Studies Acceptance </option><option value='65' >Pasco Pathways Middle School Stem and MYP acceptance </option><option value='77' >Pasco Pathways Elementary Acceptance</option><option value='78' >Pasco Pathways Elementary Waitlist</option><option value='79' >Pasco Pathways Elementary Decline</option><option value='80' >Pasco Pathways Elementary Center for Gifted Studies</option><option value='81' >Pasco Pathways CENES and JMMES</option><option value='82' >Pasco Pathways Elementary Magnets </option><option value='83' >Pasco Pathways Elementary Northwest</option><option value='85' >2021- 2022 New Bell Student Schedule - 2nd Semester</option><option value='86' >2022 Pasco Pathways Waitlist</option><option value='87' >2022 Pasco Pathways Center for Gifted Studies</option><option value='88' >2022 Pasco Pathways decline</option><option value='89' >2022 Pasco Pathways Magnet Schools</option><option value='90' >2022 Pasco Pathways Magnet Program</option><option value='91' >2022 Pasco Pathways Regular School Choice</option><option value='92' >2022 Pasco Pathways Elementary STEAM- SMES, JMMES, CENES</option><option value='93' >2022 Pasco Pathways Technical High Schools</option><option value='94' >Pasco Transcript Unofficial High School</option>		</select>
	</div>

	<div>
		<label>
			<div class="focus-print-label-text">
				Small Font:
			</div>

			<input type="checkbox" class="focus-print-option-small">
		</label>
	</div>
	<div>
		<label>
			<div class="focus-print-label-text">
				Print Preview:
			</div>

			<input type="checkbox" class="focus-print-option-preview">
		</label>
	</div>
</form>

<div id="scanning_box">
	<button class="close" type=button onClick="$('#scanning_box').hide();delete window.fu_data;">X</button>
	<div id="dwt-NonInstallContainerID"></div>
	<div id="div_ScanImage" class="divTableStyle">
		<ul id="ulScaneImageHIDE">
			<li style="padding-left: 15px;">
				<label for="source" style="float:left;">Select Source:</label>
				<br>
				<select size="1" id="source" style="width:220px;" data-select="0"></select>
			</li>
			<li id="divProductDetail">
				<ul id="divTwainType" style="height:70px; background:#f0f0f0;">
					<li style="padding-left:12px;">
						<label id="lblShowUI" for="ShowUI">
							<input type="checkbox" id="ShowUI" >Show UI&nbsp;
						</label>
						<label for="ADF">
							<input type="checkbox" id="ADF" >AutoFeeder&nbsp;
						</label>
						<label for="Duplex">
							<input type="checkbox" id="Duplex" >Duplex
						</label>
					</li>
					<li style="padding-left:15px;">
						Pixel Type:
						<!--<label for="BW">
							<input type="radio" id="BW" name="PixelType" >B&amp;W
						</label>-->
						<label for="Gray">
							<input type="radio" id="Gray" name="PixelType" >Gray
						</label>
						<label for="RGB">
							<input type="radio" id="RGB" name="PixelType" checked=checked>Color
						</label>
					</li>
				</ul>
			</li>
			<li style="text-align:center;">
				<input id="btnScan" type="button" value="Scan" onclick="AcquireImage();" style="border-color:#008014;color:#fff;text-shadow:0 1px 0 #104266;background-color:#00CD21;width:100px;height:31px;padding:0 14px;border-radius:3px;outline: none;">
			</li>
			<li style="margin-top:5px;">
				<div id="divSave" class="divinput" style="position:relative">
					<ul>
						<li style="padding-left:15px;">
							<label for="txt_fileNameforSave">File Name: <input type="text" size="20" id="txt_fileNameforSave" value="" data-defaultvalue="Portal 01-27-23" style="padding-right:18px"></label>
							<img src="assets/close_trans.png" style="vertical-align: middle;margin-left: -22px;margin-bottom: 3px;cursor:pointer;" onclick="$('#txt_fileNameforSave').val('').focus()">
						</li>
						<li style="padding-left:12px;">
							<label><input type="radio" value="bmp" name="imgType_save" id="imgTypebmp"  >BMP</label>
							<label><input type="radio" value="jpg" name="imgType_save" id="imgTypejpeg" >JPEG</label>
							<label><input type="radio" value="tif" name="imgType_save" id="imgTypetiff" >TIFF</label>
							<label><input type="radio" value="png" name="imgType_save" id="imgTypepng"  >PNG</label>
							<label><input type="radio" value="pdf" name="imgType_save" id="imgTypepdf"  checked=checked>PDF</label>
						</li>
						<li style="padding-left:12px;">
							<label for="MultiPageTIFF_save"><input type="checkbox" id="MultiPageTIFF_save" disabled="">Multi-Page TIFF</label>
							<label for="MultiPagePDF_save"><input type="checkbox" id="MultiPagePDF_save" checked=checked>Multi-Page PDF </label></li>
						<li style="text-align: center">
							<input id="btnSave" type="button" value="Save Image" onclick="btnSave_onclick()" style="border-color:#008014;color:#fff;text-shadow:0 1px 0 #104266;background-color:#00CD21;width:100px;height:31px;padding:0 14px;border-radius:3px;outline: none;">
						</li>
					</ul>
				</div>
			</li>
		</ul>
	</div>
	<div class="D_ImageUIEditor"></div>
</div>

<script>
	$('#scanning_box').draggable();
	$(document).on('change', '#scanning_box #ADF ', function() {
		Focus.ajax.post({
			type:'ScannerAjax',
			method:'savePreference',
			name:'ADF',
			value:$(this).prop('checked') ? '1' : '0'
		},function(data) {});
	});
	$(document).on('change', '#scanning_box #Duplex', function() {
		Focus.ajax.post({
			type:'ScannerAjax',
			method:'savePreference',
			name:'Duplex',
			value:$(this).prop('checked') ? '1' : '0'
		},function(data) {});
	});
	$(document).on('change', '#scanning_box #ShowUI', function() {
		Focus.ajax.post({
			type:'ScannerAjax',
			method:'savePreference',
			name:'ShowUI',
			value:$(this).prop('checked') ? '1' : '0'
		},function(data) {});
	});
	$(document).on('change', '#scanning_box [name="PixelType"]', function() {
		Focus.ajax.post({
			type:'ScannerAjax',
			method:'savePreference',
			name:'PixelType',
			value:this.id
		},function(data) {});
	});
	$(document).on('change', '#scanning_box [name="imgType_save"]', function() {
		Focus.ajax.post({
			type:'ScannerAjax',
			method:'savePreference',
			name:'imgType_save',
			value:$(this).val()
		},function(data) {});
	});
	$(document).on('change', '#scanning_box #MultiPagePDF_save', function() {
		Focus.ajax.post({
			type:'ScannerAjax',
			method:'savePreference',
			name:'MultiPage',
			value:$(this).prop('checked') ? '1' : '0'
		},function(data) {});
	});
	$(document).on('change', '#scanning_box #source', function() {
		Focus.ajax.post({
			type:'ScannerAjax',
			method:'savePreference',
			name:'Source',
			value:$(this).val()
		},function(data) {});
	});

</script>

<div id="nufile_scanning_box">
	<div class="ui header">Scanner</div>
	<div class="ui two column padded grid">
		<div class='column'>

			<div class='ui row'>
				<label for="source">Scanner</label>
				<select class="ui selection dropdown" name="source" id="source" data-select="0"></select>
			</div>

			<div class='ui row'>
				<label for="color" >Color</label>
				<select class="ui selection dropdown" name="color" id="color">
					<!--<option value="bw">B&amp;W</option>-->
					<option value="gray" >Grayscale</option>
					<option value="rgb" selected>Color</option>
				</select>
			</div>

			<div class='ui row'>
				<label for="format">Format</label>
				<select class="ui selection dropdown" size="1" id="format" name="format">
					<option value="jpg" >JPG</option>
					<option value="pdf" selected>PDF</option>
				</select>
			</div>

			<div class='ui row'>
				<label for="filename">File Name</label>
				<div class='ui input'>
						<input class="" type="text" size="20" id="filename" name="filename" />
				</div>
			</div>

			<div class='ui row'>
				<div class="ui toggle checkbox checked">
					<input type="checkbox" name="autofeeder" >
					<label for="autofeeder">Autofeeder</label>
				</div>
				<div class="ui toggle checkbox">
					<input type="checkbox" name="duplex" >
					<label for="duplex">Duplex</label>
				</div>
			</div>
			<div class='ui row'>
				<div class="ui toggle checkbox checked">
					<input type="checkbox" name="multipage" checked=checked>
					<label for="multipage">Multi-Page PDF</label>
				</div>
				<div class="ui toggle checkbox">
					<input type="checkbox" name="showui" >
					<label for="showui">Show Scan Settings</label>
				</div>
			</div>

			<div class='ui row save-buttons'>
				<button class="ui button positive" name="scan" id="btnScan" type="button">Scan</button>
				<button class="ui button positive disabled" name="save"  id="btnSave" type="button">Save</button>
				<button class="ui button negative cancel" name="cancel" type='button'>Cancel</button>
			</div>

		</div>
		<div class="column" id="nufile_scanner_control"></div>
	</div>

	<div id="dwt-NonInstallContainerID"></div>
</div>

<script>
	$(document).on('change', '#nufile_scanning_box [name="autofeeder"] ', function() {
		Focus.ajax.post({
			type:'ScannerAjax',
			method:'savePreference',
			name:'ADF',
			value:$(this).prop('checked') ? '1' : '0'
		},function(data) {});
	});
	$(document).on('change', '#nufile_scanning_box [name="duplex"]', function() {
		Focus.ajax.post({
			type:'ScannerAjax',
			method:'savePreference',
			name:'Duplex',
			value:$(this).prop('checked') ? '1' : '0'
		},function(data) {});
	});
	$(document).on('change', '#nufile_scanning_box [name="showui"]', function() {
		Focus.ajax.post({
			type:'ScannerAjax',
			method:'savePreference',
			name:'ShowUI',
			value:$(this).prop('checked') ? '1' : '0'
		},function(data) {});
	});
	$(document).on('change', '#nufile_scanning_box [name="color"]', function() {
		var value = 'RGB';
		switch($(this).val())
		{
			case 'gray' : value = 'Gray'; break;
			case 'bw'   : value = 'BW'; break;
		}
		Focus.ajax.post({
			type:'ScannerAjax',
			method:'savePreference',
			name:'PixelType',
			value:value
		},function(data) {});
	});

	$(document).on('change', '#nufile_scanning_box [name="format"]', function() {
		Focus.ajax.post({
			type:'ScannerAjax',
			method:'savePreference',
			name:'imgType_save',
			value:$(this).val()
		},function(data) {});
	});
	$(document).on('change', '#nufile_scanning_box [name="multipage"]', function() {
		Focus.ajax.post({
			type:'ScannerAjax',
			method:'savePreference',
			name:'MultiPage',
			value:$(this).prop('checked') ? '1' : '0'
		},function(data) {});
	});
	$(document).on('change', '#nufile_scanning_box #source', function() {
		Focus.ajax.post({
			type:'ScannerAjax',
			method:'savePreference',
			name:'Source',
			value:$(this).val()
		},function(data) {});
	});
</script>
<div class="site-page-search custom-border-color custom-background-color">
	<div class="site-page-search-items"></div>

	<div class="site-page-search-input-container">
		<input class="site-page-search-input">
	</div>

	<template class="site-page-search-template">
		{{#each items}}
			<a class="site-page-search-item" href="{{url}}">
				<div class="site-page-search-item-title">{{{title}}}</div>
				<div class="site-page-search-item-path">{{{path}}}</div>
			</a>
		{{/each}}
	</template>
</div>

<script>
	var data_table_filter = false;
	var sis               = true;

	if(data_table_filter) {
		$(document).on('initialized check-filter-preference', '.dataTable', function () {
			const templateRow   = this.dataTableVariables.templateRow;
			const topControls   = this.dataTableVariables.topControls;
			const $filterToggle = $(topControls).find('.dataTable-filterToggle');

			if($(templateRow).find('[data-filter]').length > 0) {
				$filterToggle
					.not('.dataTable-filtering')
					.trigger('click');
			}
		});

		$(document).on('initialized', '.lo_container', function () {
			var lo_object = lo_objects_array[$(this).attr('id')];
			if(!lo_object.filterDisplay)
			{
				lo_object.drawFilter();
			}
		});
	}
</script>

	<div id="Migoicons" class="unreset"></div>

	<table id="width_sizer_container">
		<tr id="width_sizer"></tr>
	</table>

	<textarea id="textareaPopup"></textarea>

	<div id="ajaxError" class="section hidden" data-label="Error">
		<div id="ajaxErrorClose"></div>
		<div id="ajaxErrorMessage"></div>
	</div>

	<script>
		window.Focus   = window.Focus || {};
		Focus.AJAXURL  = Focus.AJAXURL || "Modules.php?modname=misc\/Portal.php&ajax=true";
		Focus.URL      = Focus.URL || "https:\/\/pasco.focusschoolsoftware.com\/focus";
		Focus.profiles = ["6"];
		Focus.user     = {
			displayName   : "Naples, Joseph William",
			email         : "",
			desktop_token : ""		};

		try {
			if ('help' in parent) {
				var expanded = parent.help.location.href.search(/expanded=true/i);
				if (expanded > 0) {
					var requests = parent.help.location.href.substring(parent.help.location.href.indexOf('?') + 1).split("&");
					var element;
					var append_req = "";
						for (var i = 0; i < requests.length; i++) {
							if (requests[i].search(/portal/i) == -1) {
								append_req += requests[i] + "&";
							}
					}
					if (append_req != "") {
						append_req = append_req.substring(0, append_req.length - 1);
					}

											parent.help.location='Bottom.php?'+append_req+'&portal=true';
									}
			}
		} catch (e) {}
	</script>

	<div class="expand-hover-list hidden"></div>
</div>
		<div class="site-cleanup">
	
<style>
	.comment_blocks .user_s583340 {margin:0px 5px 4px 1px !important;}
	.comment_blocks .user_s583340 .title {background-color:#DDEEFF !important;}
</style>

<script id="chat_block_template" type="text/html">
	<LI data-bind="attr: {'id': to_id}">
		<div class="handle ui-corner-top">
			<div class="online_status" data-bind="visible:$root.onlinePersons.nodejs_enable, style:{ backgroundColor: $root.onlinePersons.checkOnline($data.to_id) ? '#0C0' :'#F00' }"></div>
			<div data-bind="text:to_name, attr:{'data-focus-tooltip':to_name}" style="display:inline-block;width:220px;white-space:nowrap;overflow:hidden;text-overflow:clip;line-height:20px"></div>
			<div class="chat_close" data-bind="click: $root.blockModule.removeBlock">
				<img src=assets/ckeditor/skins/moono-lisa/images/close.png>
			</div>
			<div class="chat_minimize" data-bind="click:function(){minimize(!minimize())}">
				<img data-bind="attr:{src: minimize() ? 'assets/ckeditor/skins/moono-lisa/images/arrow_up.png' : 'assets/ckeditor/skins/moono-lisa/images/arrow_down.png' }">
			</div>
		</div>
		<div class=comment_container>
			<div class=comment_blocks data-bind="attr:{id:'comment_block'+to_id}, style:{height:height()+'px'},  visible:!minimize(), event:{scroll:scrolled}">
				<div class="loading_boxes" data-bind="visible:allNotShown"><img src="assets/img/loading_boxes.gif"></div>
				<UL data-bind="template:{name:'chat_template', foreach: messages}"></UL>
			</div>
					</div>
</script>

<script id="chat_block_read_only_template" type="text/html">
	<LI data-bind="attr: {'id': to_id}">
		<div class="handle ui-corner-top">
			<div class="online_status" data-bind="visible:$root.onlinePersons.nodejs_enable, style:{ backgroundColor: $root.onlinePersons.checkOnline($data.to_id) ? '#0C0' :'#F00' }"></div>
			<div data-bind="text:to_name, attr:{'data-focus-tooltip':to_name}" style="display:inline-block;width:220px;white-space:nowrap;overflow:hidden;text-overflow:clip;line-height:20px;"></div>
			<div class="chat_close" data-bind="click: $root.blockModule.removeBlock">
				<img src=assets/ckeditor/skins/moono/images/close.png>
			</div>
			<div class="chat_minimize" data-bind="click:function(){minimize(!minimize())}">
				<img src=assets/ckeditor/skins/moono/images/arrow_down.png>
			</div>
		</div>
		<div class=comment_container>
			<div class=comment_blocks data-bind="attr:{id:'comment_block'+to_id}, style:{height:height()+59+'px'}, visible:!minimize(), event:{scroll:scrolled}">
				<div class="loading_boxes" data-bind="visible:allNotShown"><img src="assets/img/loading_boxes.gif"></div>
				<UL data-bind="template:{name:'chat_template', foreach: messages}"></UL>
			</div>
		</div>
</script>

<script id="chat_template" type="text/html">
	<li>
		<div data-bind="{attr:{class:'post user_'+from_id}, css:{flag:flagged}}">
			<div class="title">
				<div class=name data-bind="text:from_name"></div>
				<div class=comment_date><span data-bind="text:time"></span></div>
			</div>
			<div data-bind="{event:{click:function(ko, e){ override_hidden(!override_hidden()); if(e.target.tagName === 'A'){ e.target.setAttribute('target', '_blank'); return true;}}}, html: (!flagged() || override_hidden()) ? message : '<span style=\'font-style:italic;cursor:pointer;\'>Message Content Hidden</span>', attr:{class:'comment '+from_id, 'data-id':from_id, id:'post_'+from_id }, style:{wordBreak:determineWidth($element)}}"></div>
		</div>
	</li>
</script>
<script>
	window.UserObject = {
		user_id : '583340',
		user_name : '',
		user_class : 's',
		syear : '2022',
		site_url : ('https://pasco.focusschoolsoftware.com/focus') ? 'https://pasco.focusschoolsoftware.com/focus' : document.location.hostname,
	};
	(function( $ ) {

		$('body').on('click', '#message_boxes .comment .click_to_view', function(){
			var $content = $('<div>'+$(this).parent().html()+'</div>');
			$content.find('.click_to_view').hide();
			$content.find('.click_to_view_content').show();
			Focus.modal('<div style="padding:10px;">'+$content.html()+'</div>');
 		});

				window.knockoutModules.alertModule = new MessageAlerts();
		window.knockoutModules.blockModule = new MessengerBlockContainer();
		window.knockoutModules.onlinePersons = new onlinePersons();
		window.knockoutModules.chat_search_loaded=ko.observable(false);
		window.chat_search = {};




		window.chat_search = {'Teacher':{}};		for(i in chat_search) {
			$('<select class="messenger_contacts" id="messenger_contacts_'+i+'" placeholder="'+i+'"></select>').appendTo('#messenger_search').swiftbox('options', chat_search[i]);
		}
		$('.messenger_contacts').each(function(){
			var width = ($(this).attr('placeholder')*6) + 25;
			$(this).swiftbox().css({'min-width': width,'width': width}).val('').swiftbox('text', $(this).attr('placeholder'));
		});

	function moveAlert() {
		if($("#message_alert").css("bottom") == "10px")
			$("#message_alert").animate({bottom:0}, 250, function(){setTimeout(function(){moveAlert()},3000)});
		else
			$("#message_alert").animate({bottom:10}, 250, function(){moveAlert()});
	}
	moveAlert();

	$('#messenger_portal').on('change', '.messenger_contacts', function() {
		var id = $(this).val();
		var name = $(this).swiftbox('text');
		//if($(this).attr('placeholder') == 'Parents')
		//	name = name.substring(0, name.indexOf(' -'));

		$(this).val('').swiftbox('text', $(this).attr('placeholder'));
		knockoutModules.blockModule.createBlock(id, name);
	});

	$(document).on('click', '.batchChatUserSearch', function() {
		if($(this).find('.swift-box-button').html() == '')
			$(this).find('.swift-box-button').html('');
		else
			$(this).find('.swift-box-button').html('');
	});



	$('#messenger_portal').on('swiftboxOpen', '.messenger_contacts', function() {
		if($('.swift-box-options').width() < 200)
			$('.swift-box-options').css({'min-width': 200, 'left':'auto', right:0});
	});
	$('#messenger_portal').on('swiftboxClose', '.messenger_contacts', function(){
		$('.swift-box-options').css('min-width', '');
	});

		})( jQuery );
</script>
<script>
(function( $ ) {

	window.socket = false;
	knockoutModules.onlinePersons.nodejs_enable(false);

	function postKOMessage(json) {
		if(knockoutModules.blockModule.blockKeys[json.postFromUserId] != undefined) {
			knockoutModules.blockModule.getBlockFromId(json.postFromUserId).addMessage(
				json.postFromUserId,
				json.postFromUserName,
				UserObject.user_id,
				UserObject.user_name,
				json.message,
				new Date(),
				json.flagged,
				json.chat_id);
		} else {
			Focus.ajax.post({
				type:'FocusMessengerAjax',
				ids:[json.chat_id],
				postToUserIds:[UserObject.user_id],
				postFromUserId:json.postFromUserId,
				method:'insert_alert'
			},
			function(){
				knockoutModules.alertModule.loadAlerts();
							});
		}
	}

})( jQuery );
</script>
			<script>
				(function () {
						ko.applyBindings(window.knockoutModules);
				})();
			</script>
		<style>
	.focus-alert {
		display: block;
		padding-top: 31px;
		min-width: 100px;
		background: #EEF;
		text-align: center;
		overflow: auto;
	}

	.focus-alert .title {
		position: absolute;
		top: 0;
		right: 0;
		left: 0;
		height: 30px;
		line-height: 30px;
		background: #DDE;
		font-size: 18px;
		font-weight: bold;
		border-bottom: 1px solid #AAB;
	}

	.focus-alert .message {
		display: block;
		padding: 10px;
		font-size: 16px;
		line-height: 1.2em;
	}

	.focus-alert .button {
		margin-bottom: 10px;
		font-size: 16px;
	}

	#keepalive-alert .seconds {
		font-weight: bold;
	}

	#timeout-login input {
		box-sizing: border-box;
		display: block;
		margin: 10px 0;
		padding: 3px 2px;
		width: 100%;
		border: 1px solid #AAA;
		background-color: #FFF:
	}

	#timeout-login .error {
		margin: 10px;
		height: 1.2em;
		font-size: 13px;
		color: #F00;
	}
</style>
<div id="keepalive-alert" class="focus-alert focus-modal-hidden">
	<div class="title">Attention</div>

	<div class="message">
		Your login session will time out in approximately
		<span class="seconds"></span> second(s).
	</div>

	<button class="button">Stay Logged In</button>
</div>

<div id="session-alert" class="focus-alert focus-modal-hidden">
	<div class="title">Attention</div>

	<div class="message">
		The student, school, year or marking period has been changed in a
		different window or tab.<br>
		Click the button below to revert your session options.
	</div>

	<button class="button">Recover Options</button>
</div>

<div id="timeout-login" class="focus-alert focus-modal-hidden">
	<div class="title">Log In</div>

	<form class="message">
		<div>Your login session has expired. Please log in again.</div>

		<input name="username" placeholder="Username">
		<input name="password" autocomplete="new-password" placeholder="Password" type="password">

		<div class="error invisible"></div>

		<button class="button">Submit</button>
	</form>
</div>
<script>
(function($) {
	'use strict';

	//change Top Form to use php
	jQuery("#site-session").attr("action", "Modules.php?modname=misc\/Portal.php");

	var Focus = window.Focus = window.Focus || {};

	// json_encode() is used here so that a name like O'neil is properly escaped, preventing JavaScript errors
	Focus.username = "583340@student.pasco.k12.fl.us" || null;

	var cookie_path  = '/focus';
	var timeoutstore = localforage;

	var session     = {"USERNAME":"583340@student.pasco.k12.fl.us","UserSyear":"2022","UserSchool":179,"student_id":583340,"student_list":null,"STAFF_ID":null,"staff_id":null,"UserCoursePeriod":null,"UserPeriod":null,"UserMP":104687,"AJAXRequestHandler":{"requestPermissions":{"ScannerAjax":{"allowed":true,"restricted_actions":[]},"FocusMessengerAjax":{"allowed":true,"restricted_actions":[]}}},"Package":"SIS","session_id":"cd55d55e07d5e2656b73766d3014d25d"};
	var checksum    = "33de0efb311cacdf0bd5b2092b182bfa5c724a06";
	var set_current = setCurrentSession(session);
	var time_limit  = 7740;
	var server_time = 1674842352;
	var client_time = Math.floor(new Date() / 1000);
	var $keepalive  = $('#keepalive-alert');
	var $session    = $('#session-alert');
	var $login      = $('#timeout-login');
	var portal_url  = 'Modules.php?modname=misc/Portal.php';

	// Adjust the time limit to account for the difference between the server and client time
	time_limit += client_time - server_time;

	// Subtract a minute so the user can refresh the session at the last second and still have time for the request to go through
	// Subtract another minute for network latency
	time_limit -= 120;

	Focus.sessionState = {
		time_limit       : time_limit,
		keepalive_active : false,
		login_active     : false,
		session_active   : false,
		ignore_fields    : [],
		sso              : true,
	};

	(function sessionInterval() {
		checkTimeout();
		checkSession().then(function() {
			setTimeout(sessionInterval, 1000);
		});
	})();

	$keepalive.on('click', '.button', keepAlive);
	$session.on('click', '.button', restoreSession);
	$login.on('submit', login);

	// Session keys that are added to over time and should be kept up to date
	var additive_keys = {
		AJAXRequestHandler : true,
		CustomFields       : true
	};

	function checkTimeout() {
		var time = Cookies.get('session_timeout');
		var left = Focus.sessionState.time_limit - (Math.floor(new Date().getTime() / 1000) - time);

		if(left < 0) {
			if(!Focus.sessionState.login_active) {
				// If not logged in via SSO
				if(!Focus.sessionState.sso) {
					// Close any open keepalive/session modals
					$keepalive.trigger('focusModalClose');
					$session.trigger('focusModalClose');

					// Show the login modal
					Focus.modal($login, { manual_close : true });

					$login.find('form').get(0).reset();
					$login.find('.error').addClass('invisible')
					$login.find(':input:visible').first().focus();
				}

				Focus.sessionState.login_active     = true;
				Focus.sessionState.keepalive_active = false;

				logout();
			}
		}
		else if(left <= 60) {
			if(!Focus.sessionState.keepalive_active) {
				Focus.modal($keepalive, { manual_close : true });

				Focus.sessionState.login_active     = false;
				Focus.sessionState.keepalive_active = true;
			}

			$keepalive.find('.seconds').html(left);
		}
		else {
			if(Focus.sessionState.login_active) {
				$login.trigger('focusModalClose');

				Focus.sessionState.login_active = false;
			}

			if(Focus.sessionState.keepalive_active) {
				$keepalive.trigger('focusModalClose');

				Focus.sessionState.keepalive_active = false;
			}
		}
	}

	function checkSession() {
		if(Focus.sessionState.session_active || Focus.sessionState.login_active) {
			return Promise.resolve();
		}

		return getCurrentSession().then(function(current) {
			if(!current) {
				return;
			}

			for(var i in current) {
				if(additive_keys[i] || Focus.sessionState.ignore_fields.indexOf(i) !== -1) {
					continue;
				}

				if(String(session[i]) !== String(current[i])) {
					Focus.modal($session, { manual_close : true });
					Focus.sessionState.session_active = true;

					return;
				}
			}
		});
	}

	function keepAlive() {
		$.post('sessionState.php')
			.fail(function() {
				window.location = 'index.php?logout';
			})
			.done(function(result) {
				if(result !== '1') {
					window.location = 'index.php?logout';
					return;
				}
			});
	}

	function login(e) {
		e.preventDefault();

		updateAdditiveKeys().then(function() {
			var data = $login.find('form').serialize();
			var session_string = JSON.stringify(session);

			$.post('sessionState.php', {login : data, session : session_string, checksum : checksum})
				.fail(function() {
					window.location = 'index.php?logout';
				})
				.done(function(result) {
					if(result === '1') {
						$login.trigger('sessionRestored');
						$login.trigger('focusModalClose');
						$keepalive.trigger('focusModalClose');
						$session.trigger('focusModalClose');

						Focus.sessionState.login_active     = false;
						Focus.sessionState.keepalive_active = false;
						Focus.sessionState.session_active   = false;
					}
					else if(result === '2') {
						window.location = portal_url;
					}
					else {
						$login.find('.error').removeClass('invisible').html(result);
					}
				});
		});
	}

	function logout() {
		$.post('sessionState.php', {logout : 1})
			.fail(function() {
				window.location = 'index.php?logout';
			})
			.done(function(result) {
				// Always redirect to the login page when logged in via SSO
				if(result !== '1' || Focus.sessionState.sso) {
					window.location = 'index.php?logout';
					return;
				}
			});
	}

	function restoreSession() {
		updateAdditiveKeys().then(function() {
			var session_string = JSON.stringify(session);

			$.post('sessionState.php', {session : session_string, checksum : checksum})
				.fail(function() {
					window.location = 'index.php?logout';
				})
				.done(function(result) {
					if(result === '1') {
						set_current = setCurrentSession(session);

						set_current.then(function() {
							$login.trigger('focusModalClose');
							$keepalive.trigger('focusModalClose');
							$session.trigger('focusModalClose');

							Focus.sessionState.login_active     = false;
							Focus.sessionState.keepalive_active = false;
							Focus.sessionState.session_active   = false;
						});
					}
					else if(result === '2') {
						window.location = portal_url;
					}
					else {
						window.location = 'index.php?logout';
					}
				});
		});
	}

	function updateAdditiveKeys() {
		return getCurrentSession().then(function(current_session) {
			if(current_session) {
				for(var i in additive_keys) {
					session[i] = current_session[i];
				}
			}
		});
	}

	function setCurrentSession(session) {
		timeoutstore = localforage.createInstance({name: cookie_path});
		return timeoutstore.setItem('current_session', session);
	}

	function getCurrentSession() {
		return set_current.then(function() {
			return timeoutstore.getItem('current_session');
		});
	}
}(jQuery));
</script>
</div>
	</body>
</html>
